ESP-ROM:esp32s3-20210327
Build:Mar 27 2021
rst:0x5 (DSLEEP),boot:0xa (SPI_FAST_FLASH_BOOT)
pro cpu reset by JTAG
SPIWP:0xee
mode:DIO, clock div:1
load:0x3fce2820,len:0x1188
load:0x403c8700,len:0x4
load:0x403c8704,len:0xbf0
load:0x403cb700,len:0x30e4
entry 0x403c88ac
ğŸ” Verificando estado del sistema...
ğŸ›¡ï¸  Inicializando Watchdog Timer...
âœ… Watchdog configurado: timeout=120s
ğŸš€ SISTEMA DE MONITOREO AMBIENTAL ELATHIA
==========================================
Iniciando sistema...
ğŸ”– Firmware activo: v4.1.0-JARM4-VERSION
â±ï¸  CronÃ³metro iniciado - midiendo tiempo de funcionamiento
ğŸ›°ï¸  CONFIGURACIÃ“N DE GPS:
   GPS SIM (mÃ³dem): âœ… HABILITADO
[3039ms] â„¹ï¸  TIME_INFO: ğŸ• Iniciando configuraciÃ³n del sistema de tiempo
[3039ms] ğŸ” TIME_DEBUG: âš¡ EnergÃ­a activada para RTC
[5049ms] ğŸ” TIME_DEBUG: ğŸ”„ RTC - Intento de inicializaciÃ³n 1 de 3
[5049ms] â„¹ï¸  TIME_INFO: âœ… RTC inicializado exitosamente en intento 1
[5160ms] ğŸ” TIME_DEBUG: ğŸ”‹ RTC - BaterÃ­a en buen estado
[5160ms] ğŸ” TIME_DEBUG: ğŸ”„ RTC - Intento de lectura 1 de 3
[5161ms] â„¹ï¸  TIME_INFO: âœ… Tiempo leÃ­do exitosamente en intento 1
[5172ms] â„¹ï¸  TIME_INFO: ğŸ“… Fecha y hora configuradas:
[5172ms] â„¹ï¸  TIME_INFO:    2025/10/31 10:51:0
[5182ms] â„¹ï¸  TIME_INFO: ğŸ“Š Estado del RTC:
[5182ms] â„¹ï¸  TIME_INFO:    Inicializado: âœ… SI
[5193ms] â„¹ï¸  TIME_INFO:    BaterÃ­a: âœ… OK
[5193ms] â„¹ï¸  TIME_INFO:    Errores de init: 0
[5203ms] â„¹ï¸  TIME_INFO:    Errores de lectura: 0
[5203ms] â„¹ï¸  TIME_INFO: âœ… Sistema de tiempo configurado exitosamente
âœ… Sistema de tiempo configurado
ğŸ›°ï¸  Configurando GPS del mÃ³dem SIM...
[5214ms] â„¹ï¸  INFO: ğŸ›°ï¸  Configurando GPS integrado del mÃ³dem
[5224ms] â„¹ï¸  INFO: ğŸ›°ï¸  Iniciando mÃ³dulo GPS integrado
[15625ms] â„¹ï¸  INFO: ğŸ”„ Reintentando inicio del mÃ³dem
[16045ms] â„¹ï¸  INFO: âœ… MÃ³dem iniciado correctamente
[20890ms] â„¹ï¸  INFO: âœ… GPS habilitado correctamente
[20890ms] â„¹ï¸  INFO: ğŸ›°ï¸  Obteniendo coordenadas GPS del mÃ³dem SIM...
[28212ms] â„¹ï¸  INFO: ğŸ”„ Intento 1 de 50 para obtener GPS
[29524ms] â„¹ï¸  INFO: ğŸ”„ Intento 2 de 50 para obtener GPS
[30836ms] â„¹ï¸  INFO: ğŸ”„ Intento 3 de 50 para obtener GPS
[32148ms] â„¹ï¸  INFO: ğŸ”„ Intento 4 de 50 para obtener GPS
[33460ms] â„¹ï¸  INFO: ğŸ”„ Intento 5 de 50 para obtener GPS
[34772ms] â„¹ï¸  INFO: ğŸ”„ Intento 6 de 50 para obtener GPS
[36084ms] â„¹ï¸  INFO: ğŸ”„ Intento 7 de 50 para obtener GPS
[37396ms] â„¹ï¸  INFO: ğŸ”„ Intento 8 de 50 para obtener GPS
[38708ms] â„¹ï¸  INFO: ğŸ”„ Intento 9 de 50 para obtener GPS
[40020ms] â„¹ï¸  INFO: ğŸ”„ Intento 10 de 50 para obtener GPS
[41332ms] â„¹ï¸  INFO: ğŸ”„ Intento 11 de 50 para obtener GPS
[42644ms] â„¹ï¸  INFO: ğŸ”„ Intento 12 de 50 para obtener GPS
[43956ms] â„¹ï¸  INFO: ğŸ”„ Intento 13 de 50 para obtener GPS
[45268ms] â„¹ï¸  INFO: ğŸ”„ Intento 14 de 50 para obtener GPS
[46580ms] â„¹ï¸  INFO: ğŸ”„ Intento 15 de 50 para obtener GPS
[47892ms] â„¹ï¸  INFO: ğŸ”„ Intento 16 de 50 para obtener GPS
[49204ms] â„¹ï¸  INFO: ğŸ”„ Intento 17 de 50 para obtener GPS
[50516ms] â„¹ï¸  INFO: ğŸ”„ Intento 18 de 50 para obtener GPS
[51828ms] â„¹ï¸  INFO: ğŸ”„ Intento 19 de 50 para obtener GPS
[53140ms] â„¹ï¸  INFO: ğŸ”„ Intento 20 de 50 para obtener GPS
[54452ms] â„¹ï¸  INFO: ğŸ”„ Intento 21 de 50 para obtener GPS
[55764ms] â„¹ï¸  INFO: ğŸ”„ Intento 22 de 50 para obtener GPS
[57076ms] â„¹ï¸  INFO: ğŸ”„ Intento 23 de 50 para obtener GPS
[58388ms] â„¹ï¸  INFO: ğŸ”„ Intento 24 de 50 para obtener GPS
[59700ms] â„¹ï¸  INFO: ğŸ”„ Intento 25 de 50 para obtener GPS
[61012ms] â„¹ï¸  INFO: ğŸ”„ Intento 26 de 50 para obtener GPS
[62324ms] â„¹ï¸  INFO: ğŸ”„ Intento 27 de 50 para obtener GPS
[63636ms] â„¹ï¸  INFO: ğŸ”„ Intento 28 de 50 para obtener GPS
[64948ms] â„¹ï¸  INFO: ğŸ”„ Intento 29 de 50 para obtener GPS
[66260ms] â„¹ï¸  INFO: ğŸ”„ Intento 30 de 50 para obtener GPS
[67572ms] â„¹ï¸  INFO: ğŸ”„ Intento 31 de 50 para obtener GPS
[68884ms] â„¹ï¸  INFO: ğŸ”„ Intento 32 de 50 para obtener GPS
[70196ms] â„¹ï¸  INFO: ğŸ”„ Intento 33 de 50 para obtener GPS
[71508ms] â„¹ï¸  INFO: ğŸ”„ Intento 34 de 50 para obtener GPS
[72820ms] â„¹ï¸  INFO: ğŸ”„ Intento 35 de 50 para obtener GPS
[74132ms] â„¹ï¸  INFO: ğŸ”„ Intento 36 de 50 para obtener GPS
[75444ms] â„¹ï¸  INFO: ğŸ”„ Intento 37 de 50 para obtener GPS
[76756ms] â„¹ï¸  INFO: ğŸ”„ Intento 38 de 50 para obtener GPS
[78068ms] â„¹ï¸  INFO: ğŸ”„ Intento 39 de 50 para obtener GPS
[79380ms] â„¹ï¸  INFO: ğŸ”„ Intento 40 de 50 para obtener GPS
[80692ms] â„¹ï¸  INFO: ğŸ”„ Intento 41 de 50 para obtener GPS
[82004ms] â„¹ï¸  INFO: ğŸ”„ Intento 42 de 50 para obtener GPS
[83316ms] â„¹ï¸  INFO: ğŸ”„ Intento 43 de 50 para obtener GPS
[84628ms] â„¹ï¸  INFO: ğŸ”„ Intento 44 de 50 para obtener GPS
[85940ms] â„¹ï¸  INFO: ğŸ”„ Intento 45 de 50 para obtener GPS
[87252ms] â„¹ï¸  INFO: ğŸ”„ Intento 46 de 50 para obtener GPS
[88564ms] â„¹ï¸  INFO: ğŸ”„ Intento 47 de 50 para obtener GPS
[89876ms] â„¹ï¸  INFO: ğŸ”„ Intento 48 de 50 para obtener GPS
[91188ms] â„¹ï¸  INFO: ğŸ”„ Intento 49 de 50 para obtener GPS
[92500ms] â„¹ï¸  INFO: ğŸ”„ Intento 50 de 50 para obtener GPS
[92500ms] âš ï¸  WARN: âŒ No se pudieron obtener coordenadas GPS despuÃ©s de 50 intentos
[92510ms] âš ï¸  WARN: âš ï¸  No se pudieron obtener coordenadas GPS
[92510ms] â„¹ï¸  INFO: ğŸ›°ï¸  Deteniendo mÃ³dulo GPS integrado
[97732ms] â„¹ï¸  INFO: âœ… GPS deshabilitado correctamente
[97732ms] â„¹ï¸  INFO: ğŸ”‹ GPS detenido para ahorrar energÃ­a
[97732ms] â„¹ï¸  INFO: ğŸ”Œ Apagando mÃ³dem para mÃ¡ximo ahorro de energÃ­a
[102742ms] â„¹ï¸  INFO: âœ… Funciones del mÃ³dem desactivadas
[107942ms] â„¹ï¸  INFO: ğŸ”‹ MÃ³dem apagado completamente - mÃ¡ximo ahorro de energÃ­a
âœ… GPS del mÃ³dem SIM configurado
ğŸŒ± Iniciando lectura de sensores...
----REQUEST 485 Sonda Seed
12,04,00,00,00,03,B2,A8, 
----RESPONSE 485 Sonda Seed
12,04,06,08,47,1F,5C,13,98,C7,B8,00, 
âœ… Sonda Seed - ComunicaciÃ³n exitosa (11 bytes)
âœ… Sonda Seed - Datos procesados correctamente
âœ… AHT20 - Lectura exitosa
Sensor AHT20
2155
6698
-----------
âœ… BaterÃ­a - Lectura exitosa
---------Bateria----------
376
-------------------
=== RESUMEN DE ESTADO ===
Sonda: âœ… OK
AHT: âœ… OK
BaterÃ­a: âœ… OK
========================
ğŸ“Š DATOS DE SENSORES LEÃDOS:
=============================
ğŸŒ± DATOS DE SUELO:
   Temperatura: 21.2Â°C
   Humedad: 80.3%
   Conductividad: 5016 Î¼S/cm
   pH: 0.00
ğŸŒ¡ï¸  DATOS AMBIENTALES:
   Temperatura: 21.6Â°C
   Humedad: 67.0%
ğŸ”‹ DATOS DEL SISTEMA:
   Voltaje baterÃ­a: 3.46V
   Calidad seÃ±al: 0 dBm
ğŸ›°ï¸  DATOS GPS:
   Latitud: 0.000000Â°
   Longitud: 0.000000Â°
   Altitud: 0.0m
=============================
âœ… Lectura de sensores completada
ğŸ“¡ Iniciando configuraciÃ³n del mÃ³dem LTE/GSM...
[110367ms] â„¹ï¸  INFO: ğŸš€ Iniciando configuraciÃ³n del mÃ³dem LTE/GSM
[110377ms] â„¹ï¸  INFO: ğŸ“± Iniciando comunicaciÃ³n GSM
[111638ms] ğŸ” DEBUG: ğŸ”„ Esperando respuesta del mÃ³dem...
[112878ms] ğŸ” DEBUG: ğŸ”„ Esperando respuesta del mÃ³dem...
[114118ms] ğŸ” DEBUG: ğŸ”„ Esperando respuesta del mÃ³dem...
[115358ms] ğŸ” DEBUG: ğŸ”„ Esperando respuesta del mÃ³dem...
[116598ms] ğŸ” DEBUG: ğŸ”„ Esperando respuesta del mÃ³dem...
[116598ms] ğŸ” DEBUG: ğŸ”Œ Pulsando pin PWRKEY del mÃ³dem
[120798ms] ğŸ” DEBUG: âœ… Pulsado PWRKEY completado
[120798ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CPIN?
[135798ms] âš ï¸  WARN: âš ï¸  Comando AT fallÃ³: +CPIN? (esperaba: READY)
[135798ms] â„¹ï¸  INFO: ğŸ”„ Reintentando inicio del mÃ³dem
[136229ms] â„¹ï¸  INFO: âœ… ComunicaciÃ³n GSM establecida
[136229ms] â„¹ï¸  INFO: ğŸ“¡ Encendiendo RF del mÃ³dem
[136229ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CFUN=1
AT+CFUN=1
OK
[146239ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +CFUN=1
[146239ms] â„¹ï¸  INFO: âœ… RF del mÃ³dem activada correctamente
[148239ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CFUN?
AT+CFUN?
+CFUN: 1

OK
[158239ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +CFUN?
[158239ms] â„¹ï¸  INFO: âœ… RF verificada - mÃ³dem completamente funcional
[158249ms] â„¹ï¸  INFO: ğŸ“± Obteniendo informaciÃ³n de la tarjeta SIM
[165559ms] â„¹ï¸  INFO: ğŸ“± ICCID: 89883030000096466336
[165559ms] â„¹ï¸  INFO: ğŸ“¶ Calidad de seÃ±al: 19
[165559ms] â„¹ï¸  INFO: âœ… SeÃ±al buena
[165569ms] â„¹ï¸  INFO: ğŸ’¾ Iniciando sistema de archivos LittleFS
[165569ms] ğŸ” DEBUG: ğŸ”„ Intentando montar LittleFS (intento 1 de 5)
[165581ms] â„¹ï¸  INFO: âœ… LittleFS montado correctamente
[165585ms] â„¹ï¸  INFO: ğŸ’¾ Espacio total: 1441792 bytes
[165586ms] â„¹ï¸  INFO: ğŸ’¾ Espacio usado: 8192 bytes
[165596ms] â„¹ï¸  INFO: ğŸ’¾ Espacio libre: 1433600 bytes
[165596ms] â„¹ï¸  INFO: ğŸ“¦ Preparando datos para envÃ­o
ğŸ“± ICCID: 89883030000096466336
ğŸ“¶ Calidad de seÃ±al: 19
[165606ms] ğŸ” DEBUG: ğŸ”„ Convirtiendo ICCID a formato hexadecimal
------ICCID hex------
0x38 0x39 0x38 0x38 0x33 0x30 0x33 0x30 0x30 0x30 0x30 0x30 0x39 0x36 0x34 0x36 0x36 0x33 0x33 0x36 
„ Preparando datos de sensores
[165628ms] ğŸ” DEBUG: ğŸ”„ Preparando datos de sensores
sizeof(sensordata_type) = 43
STRUCT_SIZE usado = 46
âš ï¸  ADVERTENCIA: sizeof discrepancia - usando 46 bytes fijos
------Sensor data hex------
0x08 0x47 0x1F 0x5C 0x13 0x98 0x00 0x00 0x1A 0x2A 0x08 0x6B 0x01 0x78 0x07 0xE9 0x0A 0x1F 0x0A 0x33 0x00 0x13 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x05 0x08 0x00 0x02 0x01 0xAE 0x04 0x01 0x00 0x00 0x00 0x00 
TamaÃ±o estructura: 46
[165671ms] ğŸ” DEBUG: ğŸ”„ Construyendo cadena de envÃ­o
------Cadena envÃ­o hex------
0x38 0x39 0x38 0x38 0x33 0x30 0x33 0x30 0x30 0x30 0x30 0x30 0x39 0x36 0x34 0x36 0x36 0x33 0x33 0x36 0x08 0x47 0x1F 0x5C 0x13 0x98 0x00 0x00 0x1A 0x2A 0x08 0x6B 0x01 0x78 0x07 0xE9 0x0A 0x1F 0x0A 0x33 0x00 0x13 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x05 0x08 0x00 0x02 0x01 0xAE 0x04 0x01 0x00 0x00 0x00 0x00 0xAE 0x7E 
: 
[165705ms] â„¹ï¸  INFO: ğŸ” Encriptando datos con AES
ğŸ” [CRYPTO] [encryptChar] [INFO] 165715ms: Iniciando encriptaciÃ³n de array de caracteres
ğŸ” [CRYPTO] [encryptChar] [INFO] 165716ms: EncriptaciÃ³n exitosa en 1ms
[165726ms] â„¹ï¸  INFO: âœ… Datos preparados: 108 bytes encriptados
[165736ms] â„¹ï¸  INFO: ğŸ“¦ Datos preparados y encriptados: 108 bytes
[165737ms] â„¹ï¸  INFO: ğŸ’¾ Guardando dato en buffer local
[165764ms] â„¹ï¸  INFO: âœ… Dato guardado en buffer. Total en buffer: 1 lÃ­neas
[165764ms] â„¹ï¸  INFO: ğŸŒ Iniciando conexiÃ³n LTE
[165774ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CNMP=38
AT+CNMP=38
OK
[170774ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +CNMP=38
[170774ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CMNB=1
AT+CMNB=1
OK
[175774ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +CMNB=1
[175774ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CBANDCFG="CAT-M",2,4,5
AT+CBANDCFG="CAT-M",2,4,5
OK
[180774ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +CBANDCFG="CAT-M",2,4,5
[180774ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CBANDCFG="NB-IOT"
AT+CBANDCFG="NB-IOT"
OK
[185784ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +CBANDCFG="NB-IOT"
[185784ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CBANDCFG?
AT+CBANDCFG?
+CBANDCFG: "CAT-M",2,4,5
+CBANDCFG: "NB-IOT",1,2,3,4,5,8,12,13,18,19,20,25,26,28,66,71,85

OK
[190784ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +CBANDCFG?
[193784ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CGDCONT=1,"IP","em"
AT+CGDCONT=1,"IP","em"
OK
[198784ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +CGDCONT=1,"IP","em"
[198784ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CNACT=0,1
AT+CNACT=0,1
OK

+APP PDP: 0,ACTIVE
[203784ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +CNACT=0,1
[204055ms] ğŸ” DEBUG: ğŸ“¶ Calidad de seÃ±al: 19
[204055ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CNACT?
AT+CNACT?
+CNACT: 0,1,"10.190.148.45"
+CNACT: 1,0,"0.0.0.0"
+CNACT: 2,0,"0.0.0.0"
+CNACT: 3,0,"0.0.0.0"

OK
[209055ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +CNACT?
[209356ms] â„¹ï¸  INFO: âœ… Conectado a la red LTE
[209356ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CPSI?
AT+CPSI?
+CPSI: LTE CAT-M1,Online,334-03,0x13BD,36786976,484,EUTRAN-BAND4,2225,4,4,-9,-99,-76,21

OK
[214356ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +CPSI?
[214356ms] â„¹ï¸  INFO: âœ… ConexiÃ³n LTE establecida, enviando datos
[214356ms] â„¹ï¸  INFO: ğŸ“¤ Iniciando envÃ­o de datos del buffer
[214369ms] â„¹ï¸  INFO: ğŸ”Œ Abriendo conexiÃ³n TCP a d01.elathia.ai:11235
[214370ms] ğŸ” DEBUG: ğŸ”„ Intento 1 de 5
[214380ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CAOPEN=0,0,"TCP","d01.elathia.ai",11235
AT+CAOPEN=0,0,"TCP","d01.elathia.ai",11235
+CAOPEN: 0,0

OK
[219380ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +CAOPEN=0,0,"TCP","d01.elathia.ai",11235
[219380ms] â„¹ï¸  INFO: âœ… Socket TCP abierto exitosamente
[219406ms] ğŸ” DEBUG: ğŸ“¤ Enviando 108 bytes por TCP
[219449ms] ğŸ” DEBUG: âœ… Datos TCP enviados exitosamente
[219449ms] â„¹ï¸  INFO: âœ… Enviado: kwXLrmEe5sTdYrBMqL+nve7KnPXODvOeOKnCWG9YMYdIOrKyRu...
[219464ms] ğŸ” DEBUG: ğŸ”Œ Cerrando conexiÃ³n TCP
[219465ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CACLOSE=0
[219465ms] ğŸ” DEBUG: ğŸ§¹ Limpiados 11 bytes del buffer serial
AT+CACLOSE=0
OK
[224465ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +CACLOSE=0
[224465ms] ğŸ” DEBUG: âœ… ConexiÃ³n TCP cerrada
[224488ms] â„¹ï¸  INFO: ğŸ“Š Resumen de envÃ­o: 1 enviados, 0 fallidos
[224489ms] â„¹ï¸  INFO: ğŸ§¹ Limpiando buffer de datos enviados
[224517ms] â„¹ï¸  INFO: âœ… Buffer limpio. Datos pendientes: 0 lÃ­neas
[224517ms] ğŸ” DEBUG: ğŸ”Œ Pulsando pin PWRKEY del mÃ³dem
[228727ms] ğŸ” DEBUG: âœ… Pulsado PWRKEY completado
[228727ms] â„¹ï¸  INFO: ğŸ ConfiguraciÃ³n del mÃ³dem completada
âœ… ConfiguraciÃ³n del mÃ³dem completada
ğŸ’¤ Preparando sistema para modo deep sleep...
â±ï¸  ESTADÃSTICAS DE TIEMPO DE FUNCIONAMIENTO:
=============================================
   Tiempo total: 228731 ms
   DuraciÃ³n: 3 minutos y 48 segundos
   CronÃ³metro estado: DETENIDO
ğŸ“Š ESTADÃSTICAS FINALES DEL SISTEMA:
=== ESTADÃSTICAS DEL SISTEMA ===
MÃ³dem inicializado: SÃ­
GPS habilitado: No
Calidad de seÃ±al: 19
Fallos consecutivos: 0
Ãšltimo intento de conexiÃ³n: 0ms
Timeout adaptativo actual: 5000ms

âœ… Sistema preparado para deep sleep
ğŸŒ™ Entrando en modo deep sleep...
â° PrÃ³ximo despertar en 600 segundos
Setup ESP32 to sleep for every 600 seconds
Going to sleep now
ESP-ROM:esp32s3-20210327
Build:Mar 27 2021
rst:0x5 (DSLEEP),boot:0xa (SPI_FAST_FLASH_BOOT)
pro cpu reset by JTAG
SPIWP:0xee
mode:DIO, clock div:1
load:0x3fce2820,len:0x1188
load:0x403c8700,len:0x4
load:0x403c8704,len:0xbf0
load:0x403cb700,len:0x30e4
entry 0x403c88ac
ğŸ” Verificando estado del sistema...
ğŸ›¡ï¸  Inicializando Watchdog Timer...
âœ… Watchdog configurado: timeout=120s
ğŸš€ SISTEMA DE MONITOREO AMBIENTAL ELATHIA
==========================================
Iniciando sistema...
ğŸ”– Firmware activo: v4.1.0-JARM4-VERSION
â±ï¸  CronÃ³metro iniciado - midiendo tiempo de funcionamiento
ğŸ›°ï¸  CONFIGURACIÃ“N DE GPS:
   GPS SIM (mÃ³dem): âœ… HABILITADO
[3039ms] â„¹ï¸  TIME_INFO: ğŸ• Iniciando configuraciÃ³n del sistema de tiempo
[3039ms] ğŸ” TIME_DEBUG: âš¡ EnergÃ­a activada para RTC
[5049ms] ğŸ” TIME_DEBUG: ğŸ”„ RTC - Intento de inicializaciÃ³n 1 de 3
[5049ms] â„¹ï¸  TIME_INFO: âœ… RTC inicializado exitosamente en intento 1
[5160ms] ğŸ” TIME_DEBUG: ğŸ”‹ RTC - BaterÃ­a en buen estado
[5160ms] ğŸ” TIME_DEBUG: ğŸ”„ RTC - Intento de lectura 1 de 3
[5161ms] â„¹ï¸  TIME_INFO: âœ… Tiempo leÃ­do exitosamente en intento 1
[5172ms] â„¹ï¸  TIME_INFO: ğŸ“… Fecha y hora configuradas:
[5172ms] â„¹ï¸  TIME_INFO:    2025/10/31 11:4:46
[5182ms] â„¹ï¸  TIME_INFO: ğŸ“Š Estado del RTC:
[5182ms] â„¹ï¸  TIME_INFO:    Inicializado: âœ… SI
[5193ms] â„¹ï¸  TIME_INFO:    BaterÃ­a: âœ… OK
[5193ms] â„¹ï¸  TIME_INFO:    Errores de init: 0
[5203ms] â„¹ï¸  TIME_INFO:    Errores de lectura: 0
[5203ms] â„¹ï¸  TIME_INFO: âœ… Sistema de tiempo configurado exitosamente
âœ… Sistema de tiempo configurado
ğŸ›°ï¸  Configurando GPS del mÃ³dem SIM...
[5214ms] â„¹ï¸  INFO: ğŸ›°ï¸  Configurando GPS integrado del mÃ³dem
[5224ms] â„¹ï¸  INFO: ğŸ›°ï¸  Iniciando mÃ³dulo GPS integrado
[15625ms] â„¹ï¸  INFO: ğŸ”„ Reintentando inicio del mÃ³dem
[16045ms] â„¹ï¸  INFO: âœ… MÃ³dem iniciado correctamente
[20840ms] â„¹ï¸  INFO: âœ… GPS habilitado correctamente
[20840ms] â„¹ï¸  INFO: ğŸ›°ï¸  Obteniendo coordenadas GPS del mÃ³dem SIM...
[28162ms] â„¹ï¸  INFO: ğŸ”„ Intento 1 de 50 para obtener GPS
[29474ms] â„¹ï¸  INFO: ğŸ”„ Intento 2 de 50 para obtener GPS
[30786ms] â„¹ï¸  INFO: ğŸ”„ Intento 3 de 50 para obtener GPS
[32098ms] â„¹ï¸  INFO: ğŸ”„ Intento 4 de 50 para obtener GPS
[33410ms] â„¹ï¸  INFO: ğŸ”„ Intento 5 de 50 para obtener GPS
[34722ms] â„¹ï¸  INFO: ğŸ”„ Intento 6 de 50 para obtener GPS
[36034ms] â„¹ï¸  INFO: ğŸ”„ Intento 7 de 50 para obtener GPS
[37346ms] â„¹ï¸  INFO: ğŸ”„ Intento 8 de 50 para obtener GPS
[38658ms] â„¹ï¸  INFO: ğŸ”„ Intento 9 de 50 para obtener GPS
[39970ms] â„¹ï¸  INFO: ğŸ”„ Intento 10 de 50 para obtener GPS
[41282ms] â„¹ï¸  INFO: ğŸ”„ Intento 11 de 50 para obtener GPS
[42594ms] â„¹ï¸  INFO: ğŸ”„ Intento 12 de 50 para obtener GPS
[43906ms] â„¹ï¸  INFO: ğŸ”„ Intento 13 de 50 para obtener GPS
[45218ms] â„¹ï¸  INFO: ğŸ”„ Intento 14 de 50 para obtener GPS
[46530ms] â„¹ï¸  INFO: ğŸ”„ Intento 15 de 50 para obtener GPS
[47842ms] â„¹ï¸  INFO: ğŸ”„ Intento 16 de 50 para obtener GPS
[49154ms] â„¹ï¸  INFO: ğŸ”„ Intento 17 de 50 para obtener GPS
[50466ms] â„¹ï¸  INFO: ğŸ”„ Intento 18 de 50 para obtener GPS
[51778ms] â„¹ï¸  INFO: ğŸ”„ Intento 19 de 50 para obtener GPS
[53090ms] â„¹ï¸  INFO: ğŸ”„ Intento 20 de 50 para obtener GPS
[54402ms] â„¹ï¸  INFO: ğŸ”„ Intento 21 de 50 para obtener GPS
[55714ms] â„¹ï¸  INFO: ğŸ”„ Intento 22 de 50 para obtener GPS
[57026ms] â„¹ï¸  INFO: ğŸ”„ Intento 23 de 50 para obtener GPS
[58338ms] â„¹ï¸  INFO: ğŸ”„ Intento 24 de 50 para obtener GPS
[59650ms] â„¹ï¸  INFO: ğŸ”„ Intento 25 de 50 para obtener GPS
[60962ms] â„¹ï¸  INFO: ğŸ”„ Intento 26 de 50 para obtener GPS
[62274ms] â„¹ï¸  INFO: ğŸ”„ Intento 27 de 50 para obtener GPS
[63586ms] â„¹ï¸  INFO: ğŸ”„ Intento 28 de 50 para obtener GPS
[64898ms] â„¹ï¸  INFO: ğŸ”„ Intento 29 de 50 para obtener GPS
[66210ms] â„¹ï¸  INFO: ğŸ”„ Intento 30 de 50 para obtener GPS
[67522ms] â„¹ï¸  INFO: ğŸ”„ Intento 31 de 50 para obtener GPS
[68834ms] â„¹ï¸  INFO: ğŸ”„ Intento 32 de 50 para obtener GPS
[70146ms] â„¹ï¸  INFO: ğŸ”„ Intento 33 de 50 para obtener GPS
[71458ms] â„¹ï¸  INFO: ğŸ”„ Intento 34 de 50 para obtener GPS
[72770ms] â„¹ï¸  INFO: ğŸ”„ Intento 35 de 50 para obtener GPS
[74082ms] â„¹ï¸  INFO: ğŸ”„ Intento 36 de 50 para obtener GPS
[75394ms] â„¹ï¸  INFO: ğŸ”„ Intento 37 de 50 para obtener GPS
[76706ms] â„¹ï¸  INFO: ğŸ”„ Intento 38 de 50 para obtener GPS
[78018ms] â„¹ï¸  INFO: ğŸ”„ Intento 39 de 50 para obtener GPS
[79330ms] â„¹ï¸  INFO: ğŸ”„ Intento 40 de 50 para obtener GPS
[80642ms] â„¹ï¸  INFO: ğŸ”„ Intento 41 de 50 para obtener GPS
[81954ms] â„¹ï¸  INFO: ğŸ”„ Intento 42 de 50 para obtener GPS
[83266ms] â„¹ï¸  INFO: ğŸ”„ Intento 43 de 50 para obtener GPS
[84578ms] â„¹ï¸  INFO: ğŸ”„ Intento 44 de 50 para obtener GPS
[85890ms] â„¹ï¸  INFO: ğŸ”„ Intento 45 de 50 para obtener GPS
[87202ms] â„¹ï¸  INFO: ğŸ”„ Intento 46 de 50 para obtener GPS
[88514ms] â„¹ï¸  INFO: ğŸ”„ Intento 47 de 50 para obtener GPS
[89826ms] â„¹ï¸  INFO: ğŸ”„ Intento 48 de 50 para obtener GPS
[91138ms] â„¹ï¸  INFO: ğŸ”„ Intento 49 de 50 para obtener GPS
[92450ms] â„¹ï¸  INFO: ğŸ”„ Intento 50 de 50 para obtener GPS
[92450ms] âš ï¸  WARN: âŒ No se pudieron obtener coordenadas GPS despuÃ©s de 50 intentos
[92460ms] âš ï¸  WARN: âš ï¸  No se pudieron obtener coordenadas GPS
[92460ms] â„¹ï¸  INFO: ğŸ›°ï¸  Deteniendo mÃ³dulo GPS integrado
[97682ms] â„¹ï¸  INFO: âœ… GPS deshabilitado correctamente
[97682ms] â„¹ï¸  INFO: ğŸ”‹ GPS detenido para ahorrar energÃ­a
[97682ms] â„¹ï¸  INFO: ğŸ”Œ Apagando mÃ³dem para mÃ¡ximo ahorro de energÃ­a
[102692ms] â„¹ï¸  INFO: âœ… Funciones del mÃ³dem desactivadas
[107892ms] â„¹ï¸  INFO: ğŸ”‹ MÃ³dem apagado completamente - mÃ¡ximo ahorro de energÃ­a
âœ… GPS del mÃ³dem SIM configurado
ğŸŒ± Iniciando lectura de sensores...
----REQUEST 485 Sonda Seed
12,04,00,00,00,03,B2,A8, 
----RESPONSE 485 Sonda Seed
12,04,06,08,3F,1F,F8,14,10,24,07,00, 
âœ… Sonda Seed - ComunicaciÃ³n exitosa (11 bytes)
âœ… Sonda Seed - Datos procesados correctamente
âœ… AHT20 - Lectura exitosa
Sensor AHT20
2196
6623
-----------
âœ… BaterÃ­a - Lectura exitosa
---------Bateria----------
375
-------------------
=== RESUMEN DE ESTADO ===
Sonda: âœ… OK
AHT: âœ… OK
BaterÃ­a: âœ… OK
========================
ğŸ“Š DATOS DE SENSORES LEÃDOS:
=============================
ğŸŒ± DATOS DE SUELO:
   Temperatura: 21.1Â°C
   Humedad: 81.8%
   Conductividad: 5136 Î¼S/cm
   pH: 0.00
ğŸŒ¡ï¸  DATOS AMBIENTALES:
   Temperatura: 22.0Â°C
   Humedad: 66.2%
ğŸ”‹ DATOS DEL SISTEMA:
   Voltaje baterÃ­a: 3.45V
   Calidad seÃ±al: 0 dBm
ğŸ›°ï¸  DATOS GPS:
   Latitud: 0.000000Â°
   Longitud: 0.000000Â°
   Altitud: 0.0m
=============================
âœ… Lectura de sensores completada
ğŸ“¡ Iniciando configuraciÃ³n del mÃ³dem LTE/GSM...
[110317ms] â„¹ï¸  INFO: ğŸš€ Iniciando configuraciÃ³n del mÃ³dem LTE/GSM
[110327ms] â„¹ï¸  INFO: ğŸ“± Iniciando comunicaciÃ³n GSM
[111588ms] ğŸ” DEBUG: ğŸ”„ Esperando respuesta del mÃ³dem...
[112828ms] ğŸ” DEBUG: ğŸ”„ Esperando respuesta del mÃ³dem...
[114068ms] ğŸ” DEBUG: ğŸ”„ Esperando respuesta del mÃ³dem...
[115308ms] ğŸ” DEBUG: ğŸ”„ Esperando respuesta del mÃ³dem...
[116548ms] ğŸ” DEBUG: ğŸ”„ Esperando respuesta del mÃ³dem...
[116548ms] ğŸ” DEBUG: ğŸ”Œ Pulsando pin PWRKEY del mÃ³dem
[120748ms] ğŸ” DEBUG: âœ… Pulsado PWRKEY completado
[120748ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CPIN?
[135748ms] âš ï¸  WARN: âš ï¸  Comando AT fallÃ³: +CPIN? (esperaba: READY)
[135748ms] â„¹ï¸  INFO: ğŸ”„ Reintentando inicio del mÃ³dem
[136179ms] â„¹ï¸  INFO: âœ… ComunicaciÃ³n GSM establecida
[136179ms] â„¹ï¸  INFO: ğŸ“¡ Encendiendo RF del mÃ³dem
[136179ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CFUN=1
AT+CFUN=1
OK
[146189ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +CFUN=1
[146189ms] â„¹ï¸  INFO: âœ… RF del mÃ³dem activada correctamente
[148189ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CFUN?
AT+CFUN?
+CFUN: 1

OK
[158189ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +CFUN?
[158189ms] â„¹ï¸  INFO: âœ… RF verificada - mÃ³dem completamente funcional
[158199ms] â„¹ï¸  INFO: ğŸ“± Obteniendo informaciÃ³n de la tarjeta SIM
[165509ms] â„¹ï¸  INFO: ğŸ“± ICCID: 89883030000096466336
[165509ms] â„¹ï¸  INFO: ğŸ“¶ Calidad de seÃ±al: 18
[165509ms] â„¹ï¸  INFO: âœ… SeÃ±al buena
[165519ms] â„¹ï¸  INFO: ğŸ’¾ Iniciando sistema de archivos LittleFS
[165519ms] ğŸ” DEBUG: ğŸ”„ Intentando montar LittleFS (intento 1 de 5)
[165533ms] â„¹ï¸  INFO: âœ… LittleFS montado correctamente
[165542ms] â„¹ï¸  INFO: ğŸ’¾ Espacio total: 1441792 bytes
[165542ms] â„¹ï¸  INFO: ğŸ’¾ Espacio usado: 8192 bytes
[165543ms] â„¹ï¸  INFO: ğŸ’¾ Espacio libre: 1433600 bytes
[165553ms] â„¹ï¸  INFO: ğŸ“¦ Preparando datos para envÃ­o
ğŸ“± ICCID: 89883030000096466336
ğŸ“¶ Calidad de seÃ±al: 18
[165563ms] ğŸ” DEBUG: ğŸ”„ Convirtiendo ICCID a formato hexadecimal
------ICCID hex------
0x38 0x39 0x38 0x38 0x33 0x30 0x33 0x30 0x30 0x30 0x30 0x30 0x39 0x36 0x34 0x36 0x36 0x33 0x33 0x36 
„ Preparando datos de sensores
[165585ms] ğŸ” DEBUG: ğŸ”„ Preparando datos de sensores
sizeof(sensordata_type) = 43
STRUCT_SIZE usado = 46
âš ï¸  ADVERTENCIA: sizeof discrepancia - usando 46 bytes fijos
------Sensor data hex------
0x08 0x3F 0x1F 0xF8 0x14 0x10 0x00 0x00 0x19 0xDF 0x08 0x94 0x01 0x77 0x07 0xE9 0x0A 0x1F 0x0B 0x04 0x2E 0x12 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x05 0x08 0x00 0x03 0x01 0xAE 0x04 0x01 0x00 0x00 0x00 0x00 
TamaÃ±o estructura: 46
[165618ms] ğŸ” DEBUG: ğŸ”„ Construyendo cadena de envÃ­o
------Cadena envÃ­o hex------
0x38 0x39 0x38 0x38 0x33 0x30 0x33 0x30 0x30 0x30 0x30 0x30 0x39 0x36 0x34 0x36 0x36 0x33 0x33 0x36 0x08 0x3F 0x1F 0xF8 0x14 0x10 0x00 0x00 0x19 0xDF 0x08 0x94 0x01 0x77 0x07 0xE9 0x0A 0x1F 0x0B 0x04 0x2E 0x12 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x05 0x08 0x00 0x03 0x01 0xAE 0x04 0x01 0x00 0x00 0x00 0x00 0xCC 0x31 
: 
[165662ms] â„¹ï¸  INFO: ğŸ” Encriptando datos con AES
ğŸ” [CRYPTO] [encryptChar] [INFO] 165662ms: Iniciando encriptaciÃ³n de array de caracteres
ğŸ” [CRYPTO] [encryptChar] [INFO] 165673ms: EncriptaciÃ³n exitosa en 11ms
[165683ms] â„¹ï¸  INFO: âœ… Datos preparados: 108 bytes encriptados
[165683ms] â„¹ï¸  INFO: ğŸ“¦ Datos preparados y encriptados: 108 bytes
[165693ms] â„¹ï¸  INFO: ğŸ’¾ Guardando dato en buffer local
[165717ms] â„¹ï¸  INFO: âœ… Dato guardado en buffer. Total en buffer: 1 lÃ­neas
[165717ms] â„¹ï¸  INFO: ğŸŒ Iniciando conexiÃ³n LTE
[165727ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CNMP=38
AT+CNMP=38
OK
[170727ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +CNMP=38
[170727ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CMNB=1
AT+CMNB=1
OK
[175727ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +CMNB=1
[175727ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CBANDCFG="CAT-M",2,4,5
AT+CBANDCFG="CAT-M",2,4,5
OK
[180727ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +CBANDCFG="CAT-M",2,4,5
[180727ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CBANDCFG="NB-IOT"
AT+CBANDCFG="NB-IOT"
OK
 ESP-ROM:esp32s3-20210327
Build:Mar 27 2021
rst:0x1 (POWERON),boot:0xa (SPI_FAST_FLASH_BOOT)
SPIWP:0xee
mode:DIO, clock div:1
load:0x3fce2820,len:0x1188
load:0x403c8700,len:0x4
load:0x403c8704,len:0xbf0
load:0x403cb700,len:0x30e4
entry 0x403c88ac
ğŸ” Verificando estado del sistema...
ğŸ›¡ï¸  Inicializando Watchdog Timer...
âœ… Watchdog configurado: timeout=120s
ğŸš€ SISTEMA DE MONITOREO AMBIENTAL ELATHIA
==========================================
Iniciando sistema...
ğŸ”– Firmware activo: v4.2.1-JARM4-PERSIST
â±ï¸  CronÃ³metro iniciado - midiendo tiempo de funcionamiento
ğŸ›°ï¸  CONFIGURACIÃ“N DE GPS:
   GPS SIM (mÃ³dem): âœ… HABILITADO
ğŸ’¾ Cargando estado persistente del mÃ³dem...
âš ï¸ [PERSIST] Error abriendo namespace NVS
[3049ms] â„¹ï¸  TIME_INFO: ğŸ• Iniciando configuraciÃ³n del sistema de tiempo
[3049ms] ğŸ” TIME_DEBUG: âš¡ EnergÃ­a activada para RTC
[5059ms] ğŸ” TIME_DEBUG: ğŸ”„ RTC - Intento de inicializaciÃ³n 1 de 3
[5059ms] â„¹ï¸  TIME_INFO: âœ… RTC inicializado exitosamente en intento 1
[5170ms] ğŸ” TIME_DEBUG: ğŸ”‹ RTC - BaterÃ­a en buen estado
[5170ms] ğŸ” TIME_DEBUG: ğŸ”„ RTC - Intento de lectura 1 de 3
[5171ms] â„¹ï¸  TIME_INFO: âœ… Tiempo leÃ­do exitosamente en intento 1
[5182ms] â„¹ï¸  TIME_INFO: ğŸ“… Fecha y hora configuradas:
[5182ms] â„¹ï¸  TIME_INFO:    2025/10/31 11:9:39
[5192ms] â„¹ï¸  TIME_INFO: ğŸ“Š Estado del RTC:
[5192ms] â„¹ï¸  TIME_INFO:    Inicializado: âœ… SI
[5203ms] â„¹ï¸  TIME_INFO:    BaterÃ­a: âœ… OK
[5203ms] â„¹ï¸  TIME_INFO:    Errores de init: 0
[5213ms] â„¹ï¸  TIME_INFO:    Errores de lectura: 0
[5213ms] â„¹ï¸  TIME_INFO: âœ… Sistema de tiempo configurado exitosamente
âœ… Sistema de tiempo configurado
ğŸ›°ï¸  Configurando GPS del mÃ³dem SIM...
[5224ms] â„¹ï¸  INFO: ğŸ›°ï¸  Configurando GPS integrado del mÃ³dem
[5234ms] â„¹ï¸  INFO: ğŸ›°ï¸  Iniciando mÃ³dulo GPS integrado
[5345ms] â„¹ï¸  INFO: âœ… MÃ³dem iniciado correctamente
[9740ms] â„¹ï¸  INFO: âœ… GPS habilitado correctamente
[9740ms] â„¹ï¸  INFO: ğŸ›°ï¸  Obteniendo coordenadas GPS del mÃ³dem SIM...
[17062ms] â„¹ï¸  INFO: ğŸ”„ Intento 1 de 50 para obtener GPS
[18374ms] â„¹ï¸  INFO: ğŸ”„ Intento 2 de 50 para obtener GPS
[19686ms] â„¹ï¸  INFO: ğŸ”„ Intento 3 de 50 para obtener GPS
[20998ms] â„¹ï¸  INFO: ğŸ”„ Intento 4 de 50 para obtener GPS
[22310ms] â„¹ï¸  INFO: ğŸ”„ Intento 5 de 50 para obtener GPS
[23622ms] â„¹ï¸  INFO: ğŸ”„ Intento 6 de 50 para obtener GPS
[24934ms] â„¹ï¸  INFO: ğŸ”„ Intento 7 de 50 para obtener GPS
[26246ms] â„¹ï¸  INFO: ğŸ”„ Intento 8 de 50 para obtener GPS
[27558ms] â„¹ï¸  INFO: ğŸ”„ Intento 9 de 50 para obtener GPS
[28870ms] â„¹ï¸  INFO: ğŸ”„ Intento 10 de 50 para obtener GPS
[30182ms] â„¹ï¸  INFO: ğŸ”„ Intento 11 de 50 para obtener GPS
[31494ms] â„¹ï¸  INFO: ğŸ”„ Intento 12 de 50 para obtener GPS
[32806ms] â„¹ï¸  INFO: ğŸ”„ Intento 13 de 50 para obtener GPS
[34118ms] â„¹ï¸  INFO: ğŸ”„ Intento 14 de 50 para obtener GPS
[35430ms] â„¹ï¸  INFO: ğŸ”„ Intento 15 de 50 para obtener GPS
[36742ms] â„¹ï¸  INFO: ğŸ”„ Intento 16 de 50 para obtener GPS
[38054ms] â„¹ï¸  INFO: ğŸ”„ Intento 17 de 50 para obtener GPS
[39366ms] â„¹ï¸  INFO: ğŸ”„ Intento 18 de 50 para obtener GPS
[40678ms] â„¹ï¸  INFO: ğŸ”„ Intento 19 de 50 para obtener GPS
[41990ms] â„¹ï¸  INFO: ğŸ”„ Intento 20 de 50 para obtener GPS
[43302ms] â„¹ï¸  INFO: ğŸ”„ Intento 21 de 50 para obtener GPS
[44614ms] â„¹ï¸  INFO: ğŸ”„ Intento 22 de 50 para obtener GPS
[45926ms] â„¹ï¸  INFO: ğŸ”„ Intento 23 de 50 para obtener GPS
[47238ms] â„¹ï¸  INFO: ğŸ”„ Intento 24 de 50 para obtener GPS
[48550ms] â„¹ï¸  INFO: ğŸ”„ Intento 25 de 50 para obtener GPS
[49862ms] â„¹ï¸  INFO: ğŸ”„ Intento 26 de 50 para obtener GPS
[51174ms] â„¹ï¸  INFO: ğŸ”„ Intento 27 de 50 para obtener GPS
[52486ms] â„¹ï¸  INFO: ğŸ”„ Intento 28 de 50 para obtener GPS
[53798ms] â„¹ï¸  INFO: ğŸ”„ Intento 29 de 50 para obtener GPS
[55110ms] â„¹ï¸  INFO: ğŸ”„ Intento 30 de 50 para obtener GPS
[56422ms] â„¹ï¸  INFO: ğŸ”„ Intento 31 de 50 para obtener GPS
[57734ms] â„¹ï¸  INFO: ğŸ”„ Intento 32 de 50 para obtener GPS
[59046ms] â„¹ï¸  INFO: ğŸ”„ Intento 33 de 50 para obtener GPS
[60358ms] â„¹ï¸  INFO: ğŸ”„ Intento 34 de 50 para obtener GPS
[61670ms] â„¹ï¸  INFO: ğŸ”„ Intento 35 de 50 para obtener GPS
[62982ms] â„¹ï¸  INFO: ğŸ”„ Intento 36 de 50 para obtener GPS
[64294ms] â„¹ï¸  INFO: ğŸ”„ Intento 37 de 50 para obtener GPS
[65606ms] â„¹ï¸  INFO: ğŸ”„ Intento 38 de 50 para obtener GPS
[66918ms] â„¹ï¸  INFO: ğŸ”„ Intento 39 de 50 para obtener GPS
[68230ms] â„¹ï¸  INFO: ğŸ”„ Intento 40 de 50 para obtener GPS
[69542ms] â„¹ï¸  INFO: ğŸ”„ Intento 41 de 50 para obtener GPS
[70854ms] â„¹ï¸  INFO: ğŸ”„ Intento 42 de 50 para obtener GPS
[72166ms] â„¹ï¸  INFO: ğŸ”„ Intento 43 de 50 para obtener GPS
[73478ms] â„¹ï¸  INFO: ğŸ”„ Intento 44 de 50 para obtener GPS
[74790ms] â„¹ï¸  INFO: ğŸ”„ Intento 45 de 50 para obtener GPS
[76102ms] â„¹ï¸  INFO: ğŸ”„ Intento 46 de 50 para obtener GPS
[77414ms] â„¹ï¸  INFO: ğŸ”„ Intento 47 de 50 para obtener GPS
[78726ms] â„¹ï¸  INFO: ğŸ”„ Intento 48 de 50 para obtener GPS
[80038ms] â„¹ï¸  INFO: ğŸ”„ Intento 49 de 50 para obtener GPS
[81350ms] â„¹ï¸  INFO: ğŸ”„ Intento 50 de 50 para obtener GPS
[81350ms] âš ï¸  WARN: âŒ No se pudieron obtener coordenadas GPS despuÃ©s de 50 intentos
[81360ms] âš ï¸  WARN: âš ï¸  No se pudieron obtener coordenadas GPS
[81360ms] â„¹ï¸  INFO: ğŸ›°ï¸  Deteniendo mÃ³dulo GPS integrado
[86582ms] â„¹ï¸  INFO: âœ… GPS deshabilitado correctamente
[86582ms] â„¹ï¸  INFO: ğŸ”‹ GPS detenido para ahorrar energÃ­a
[86582ms] â„¹ï¸  INFO: ğŸ”Œ Apagando mÃ³dem para mÃ¡ximo ahorro de energÃ­a
[91592ms] â„¹ï¸  INFO: âœ… Funciones del mÃ³dem desactivadas
[96792ms] â„¹ï¸  INFO: ğŸ”‹ MÃ³dem apagado completamente - mÃ¡ximo ahorro de energÃ­a
âœ… GPS del mÃ³dem SIM configurado
ğŸŒ± Iniciando lectura de sensores...
----REQUEST 485 Sonda Seed
12,04,00,00,00,03,B2,A8, 
----RESPONSE 485 Sonda Seed
12,04,06,08,3F,1F,F8,13,C4,26,68,00, 
âœ… Sonda Seed - ComunicaciÃ³n exitosa (11 bytes)
âœ… Sonda Seed - Datos procesados correctamente
âœ… AHT20 - Lectura exitosa
Sensor AHT20
2208
6629
-----------
âœ… BaterÃ­a - Lectura exitosa
---------Bateria----------
376
-------------------
=== RESUMEN DE ESTADO ===
Sonda: âœ… OK
AHT: âœ… OK
BaterÃ­a: âœ… OK
========================
ğŸ“Š DATOS DE SENSORES LEÃDOS:
=============================
ğŸŒ± DATOS DE SUELO:
   Temperatura: 21.1Â°C
   Humedad: 81.8%
   Conductividad: 5060 Î¼S/cm
   pH: 0.00
ğŸŒ¡ï¸  DATOS AMBIENTALES:
   Temperatura: 22.1Â°C
   Humedad: 66.3%
ğŸ”‹ DATOS DEL SISTEMA:
   Voltaje baterÃ­a: 3.46V
   Calidad seÃ±al: 0 dBm
ğŸ›°ï¸  DATOS GPS:
   Latitud: 0.000000Â°
   Longitud: 0.000000Â°
   Altitud: 0.0m
=============================
âœ… Lectura de sensores completada
ğŸ“¡ Iniciando configuraciÃ³n del mÃ³dem LTE/GSM...
[99217ms] â„¹ï¸  INFO: ğŸš€ Iniciando configuraciÃ³n del mÃ³dem LTE/GSM
[99227ms] â„¹ï¸  INFO: ğŸ“± Iniciando comunicaciÃ³n GSM
[100488ms] ğŸ” DEBUG: ğŸ”„ Esperando respuesta del mÃ³dem...
[101728ms] ğŸ” DEBUG: ğŸ”„ Esperando respuesta del mÃ³dem...
[102968ms] ğŸ” DEBUG: ğŸ”„ Esperando respuesta del mÃ³dem...
[104208ms] ğŸ” DEBUG: ğŸ”„ Esperando respuesta del mÃ³dem...
[105448ms] ğŸ” DEBUG: ğŸ”„ Esperando respuesta del mÃ³dem...
[105448ms] ğŸ” DEBUG: ğŸ”Œ Pulsando pin PWRKEY del mÃ³dem
[109648ms] ğŸ” DEBUG: âœ… Pulsado PWRKEY completado
[109648ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CPIN?
[124648ms] âš ï¸  WARN: âš ï¸  Comando AT fallÃ³: +CPIN? (esperaba: READY)
[124648ms] â„¹ï¸  INFO: ğŸ”„ Reintentando inicio del mÃ³dem
[125079ms] â„¹ï¸  INFO: âœ… ComunicaciÃ³n GSM establecida
[125079ms] â„¹ï¸  INFO: ğŸ“¡ Encendiendo RF del mÃ³dem
[125079ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CFUN=1
AT+CFUN=1
OK
[135089ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +CFUN=1
[135089ms] â„¹ï¸  INFO: âœ… RF del mÃ³dem activada correctamente
[137089ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CFUN?
AT+CFUN?
+CFUN: 1

OK
[147089ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +CFUN?
[147089ms] â„¹ï¸  INFO: âœ… RF verificada - mÃ³dem completamente funcional
[147099ms] â„¹ï¸  INFO: ğŸ“± Obteniendo informaciÃ³n de la tarjeta SIM
[154409ms] â„¹ï¸  INFO: ğŸ“± ICCID: 89883030000096466336
[154409ms] â„¹ï¸  INFO: ğŸ“¶ Calidad de seÃ±al: 19
[154409ms] â„¹ï¸  INFO: âœ… SeÃ±al buena
[154419ms] â„¹ï¸  INFO: ğŸ’¾ Iniciando sistema de archivos LittleFS
[154419ms] ğŸ” DEBUG: ğŸ”„ Intentando montar LittleFS (intento 1 de 5)
[154434ms] â„¹ï¸  INFO: âœ… LittleFS montado correctamente
[154444ms] â„¹ï¸  INFO: ğŸ’¾ Espacio total: 1441792 bytes
[154444ms] â„¹ï¸  INFO: ğŸ’¾ Espacio usado: 8192 bytes
[154444ms] â„¹ï¸  INFO: ğŸ’¾ Espacio libre: 1433600 bytes
[154454ms] â„¹ï¸  INFO: ğŸ“¦ Preparando datos para envÃ­o
ğŸ“± ICCID: 89883030000096466336
ğŸ“¶ Calidad de seÃ±al: 19
[154465ms] ğŸ” DEBUG: ğŸ”„ Convirtiendo ICCID a formato hexadecimal
------ICCID hex------
0x38 0x39 0x38 0x38 0x33 0x30 0x33 0x30 0x30 0x30 0x30 0x30 0x39 0x36 0x34 0x36 0x36 0x33 0x33 0x36 
„ Preparando datos de sensores
[154486ms] ğŸ” DEBUG: ğŸ”„ Preparando datos de sensores
sizeof(sensordata_type) = 43
STRUCT_SIZE usado = 46
âš ï¸  ADVERTENCIA: sizeof discrepancia - usando 46 bytes fijos
------Sensor data hex------
0x08 0x3F 0x1F 0xF8 0x13 0xC4 0x00 0x00 0x19 0xE5 0x08 0xA0 0x01 0x78 0x07 0xE9 0x0A 0x1F 0x0B 0x09 0x27 0x13 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x05 0x01 0x00 0x01 0x01 0x83 0x04 0x02 0x01 0x00 0x00 0x00 
TamaÃ±o estructura: 46
[154519ms] ğŸ” DEBUG: ğŸ”„ Construyendo cadena de envÃ­o
------Cadena envÃ­o hex------
0x38 0x39 0x38 0x38 0x33 0x30 0x33 0x30 0x30 0x30 0x30 0x30 0x39 0x36 0x34 0x36 0x36 0x33 0x33 0x36 0x08 0x3F 0x1F 0xF8 0x13 0xC4 0x00 0x00 0x19 0xE5 0x08 0xA0 0x01 0x78 0x07 0xE9 0x0A 0x1F 0x0B 0x09 0x27 0x13 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x05 0x01 0x00 0x01 0x01 0x83 0x04 0x02 0x01 0x00 0x00 0x00 0xB5 0x59 
: 
[154563ms] â„¹ï¸  INFO: ğŸ” Encriptando datos con AES
ğŸ” [CRYPTO] [encryptChar] [INFO] 154563ms: Iniciando encriptaciÃ³n de array de caracteres
ğŸ” [CRYPTO] [encryptChar] [INFO] 154574ms: EncriptaciÃ³n exitosa en 11ms
[154584ms] â„¹ï¸  INFO: âœ… Datos preparados: 108 bytes encriptados
[154584ms] â„¹ï¸  INFO: ğŸ“¦ Datos preparados y encriptados: 108 bytes
[154595ms] â„¹ï¸  INFO: ğŸ’¾ Guardando dato en buffer local
[154674ms] â„¹ï¸  INFO: âœ… Dato guardado en buffer. Total en buffer: 2 lÃ­neas
[154674ms] â„¹ï¸  INFO: ğŸŒ Iniciando conexiÃ³n LTE
[154684ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CNMP=38
AT+CNMP=38
OK
[159684ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +CNMP=38
[159684ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CMNB=1
AT+CMNB=1
OK
[164684ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +CMNB=1
[164684ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CBANDCFG="CAT-M",2,4,5
AT+CBANDCFG="CAT-M",2,4,5
OK
[169684ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +CBANDCFG="CAT-M",2,4,5
[169684ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CBANDCFG="NB-IOT"
AT+CBANDCFG="NB-IOT"
OK
[174694ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +CBANDCFG="NB-IOT"
[174694ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CBANDCFG?
AT+CBANDCFG?
+CBANDCFG: "CAT-M",2,4,5
+CBANDCFG: "NB-IOT",1,2,3,4,5,8,12,13,18,19,20,25,26,28,66,71,85

OK
[179694ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +CBANDCFG?
[182694ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CGDCONT=1,"IP","em"
AT+CGDCONT=1,"IP","em"
OK
[187694ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +CGDCONT=1,"IP","em"
[187694ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CNACT=0,1
AT+CNACT=0,1
OK

+APP PDP: 0,ACTIVE
[192694ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +CNACT=0,1
[192965ms] ğŸ” DEBUG: ğŸ“¶ Calidad de seÃ±al: 19
[192965ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CNACT?
AT+CNACT?
+CNACT: 0,1,"10.190.148.45"
+CNACT: 1,0,"0.0.0.0"
+CNACT: 2,0,"0.0.0.0"
+CNACT: 3,0,"0.0.0.0"

OK
[197965ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +CNACT?
[198266ms] â„¹ï¸  INFO: âœ… Conectado a la red LTE
[198266ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CPSI?
AT+CPSI?
+CPSI: LTE CAT-M1,Online,334-03,0x13BD,36786976,484,EUTRAN-BAND4,2225,4,4,-10,-99,-75,20

OK
[203266ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +CPSI?
[203266ms] â„¹ï¸  INFO: âœ… ConexiÃ³n LTE establecida, enviando datos
ğŸ’¾ [PERSIST] Estado guardado en NVS:
   RSSI=22 | Banda=1 | Fallos=0 | AvgTime=0ms
[203542ms] â„¹ï¸  INFO: ğŸ“¤ Iniciando envÃ­o de datos del buffer
[203553ms] â„¹ï¸  INFO: ğŸ”Œ Abriendo conexiÃ³n TCP a d01.elathia.ai:11235
[203554ms] ğŸ” DEBUG: ğŸ”„ Intento 1 de 5
[203564ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CAOPEN=0,0,"TCP","d01.elathia.ai",11235
AT+CAOPEN=0,0,"TCP","d01.elathia.ai",11235
+CAOPEN: 0,0

OK
[208564ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +CAOPEN=0,0,"TCP","d01.elathia.ai",11235
[208564ms] â„¹ï¸  INFO: âœ… Socket TCP abierto exitosamente
[208584ms] ğŸ” DEBUG: ğŸ“¤ Enviando 108 bytes por TCP
[208627ms] ğŸ” DEBUG: âœ… Datos TCP enviados exitosamente
[208627ms] â„¹ï¸  INFO: âœ… Enviado: kwXLrmEe5sTdYrBMqL+nvezkKtH+6ypxrnEuB0ShQ4b1GTzFor...
[208640ms] ğŸ” DEBUG: ğŸ“¤ Enviando 108 bytes por TCP
[208640ms] ğŸ” DEBUG: ğŸ§¹ Limpiados 11 bytes del buffer serial
[208683ms] ğŸ” DEBUG: âœ… Datos TCP enviados exitosamente
[208683ms] â„¹ï¸  INFO: âœ… Enviado: kwXLrmEe5sTdYrBMqL+nvTdDW4JlQBWZ/Ee9U7HlZeTZ8b1FMn...
[208697ms] ğŸ” DEBUG: ğŸ”Œ Cerrando conexiÃ³n TCP
[208697ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CACLOSE=0
[208697ms] ğŸ” DEBUG: ğŸ§¹ Limpiados 11 bytes del buffer serial
AT+CACLOSE=0
OK
[213697ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +CACLOSE=0
[213697ms] ğŸ” DEBUG: âœ… ConexiÃ³n TCP cerrada
[213712ms] â„¹ï¸  INFO: ğŸ“Š Resumen de envÃ­o: 2 enviados, 0 fallidos
[213712ms] â„¹ï¸  INFO: ğŸ§¹ Limpiando buffer de datos enviados
[213736ms] â„¹ï¸  INFO: âœ… Buffer limpio. Datos pendientes: 0 lÃ­neas
[213736ms] ğŸ” DEBUG: ğŸ”Œ Pulsando pin PWRKEY del mÃ³dem
[217947ms] ğŸ” DEBUG: âœ… Pulsado PWRKEY completado
[217947ms] â„¹ï¸  INFO: ğŸ ConfiguraciÃ³n del mÃ³dem completada
âœ… ConfiguraciÃ³n del mÃ³dem completada
ğŸ’¤ Preparando sistema para modo deep sleep...
â±ï¸  ESTADÃSTICAS DE TIEMPO DE FUNCIONAMIENTO:
=============================================
   Tiempo total: 217951 ms
   DuraciÃ³n: 3 minutos y 37 segundos
   CronÃ³metro estado: DETENIDO
ğŸ“Š ESTADÃSTICAS FINALES DEL SISTEMA:
=== ESTADÃSTICAS DEL SISTEMA ===
MÃ³dem inicializado: SÃ­
GPS habilitado: No
Calidad de seÃ±al: 19
Fallos consecutivos: 0
Ãšltimo intento de conexiÃ³n: 0ms
Timeout adaptativo actual: 5000ms

âœ… Sistema preparado para deep sleep
ğŸŒ™ Entrando en modo deep sleep...
â° PrÃ³ximo despertar en 600 segundos
Setup ESP32 to sleep for every 600 seconds
Going to sleep now
ESP-ROM:esp32s3-20210327
Build:Mar 27 2021
rst:0x5 (DSLEEP),boot:0xa (SPI_FAST_FLASH_BOOT)
pro cpu reset by JTAG
SPIWP:0xee
mode:DIO, clock div:1
load:0x3fce2820,len:0x1188
load:0x403c8700,len:0x4
load:0x403c8704,len:0xbf0
load:0x403cb700,len:0x30e4
entry 0x403c88ac
ğŸ” Verificando estado del sistema...
ğŸ›¡ï¸  Inicializando Watchdog Timer...
âœ… Watchdog configurado: timeout=120s
ğŸš€ SISTEMA DE MONITOREO AMBIENTAL ELATHIA
==========================================
Iniciando sistema...
ğŸ”– Firmware activo: v4.2.1-JARM4-PERSIST
â±ï¸  CronÃ³metro iniciado - midiendo tiempo de funcionamiento
ğŸ›°ï¸  CONFIGURACIÃ“N DE GPS:
   GPS SIM (mÃ³dem): âœ… HABILITADO
ğŸ’¾ Cargando estado persistente del mÃ³dem...
âœ… [PERSIST] Estado cargado desde NVS:
   RSSI=22 | Banda=1 | Fallos=0 | AvgTime=0ms
   GPS=(0.000000,0.000000) @ 0
[3054ms] â„¹ï¸  TIME_INFO: ğŸ• Iniciando configuraciÃ³n del sistema de tiempo
[3054ms] ğŸ” TIME_DEBUG: âš¡ EnergÃ­a activada para RTC
[5064ms] ğŸ” TIME_DEBUG: ğŸ”„ RTC - Intento de inicializaciÃ³n 1 de 3
[5064ms] â„¹ï¸  TIME_INFO: âœ… RTC inicializado exitosamente en intento 1
[5175ms] ğŸ” TIME_DEBUG: ğŸ”‹ RTC - BaterÃ­a en buen estado
[5175ms] ğŸ” TIME_DEBUG: ğŸ”„ RTC - Intento de lectura 1 de 3
[5176ms] â„¹ï¸  TIME_INFO: âœ… Tiempo leÃ­do exitosamente en intento 1
[5187ms] â„¹ï¸  TIME_INFO: ğŸ“… Fecha y hora configuradas:
[5187ms] â„¹ï¸  TIME_INFO:    2025/10/31 11:23:14
[5197ms] â„¹ï¸  TIME_INFO: ğŸ“Š Estado del RTC:
[5197ms] â„¹ï¸  TIME_INFO:    Inicializado: âœ… SI
[5208ms] â„¹ï¸  TIME_INFO:    BaterÃ­a: âœ… OK
[5208ms] â„¹ï¸  TIME_INFO:    Errores de init: 0
[5218ms] â„¹ï¸  TIME_INFO:    Errores de lectura: 0
[5218ms] â„¹ï¸  TIME_INFO: âœ… Sistema de tiempo configurado exitosamente
âœ… Sistema de tiempo configurado
ğŸ›°ï¸  Configurando GPS del mÃ³dem SIM...
[5228ms] â„¹ï¸  INFO: ğŸ›°ï¸  Configurando GPS integrado del mÃ³dem
[5239ms] â„¹ï¸  INFO: ğŸ›°ï¸  Iniciando mÃ³dulo GPS integrado
[15640ms] â„¹ï¸  INFO: ğŸ”„ Reintentando inicio del mÃ³dem
[16060ms] â„¹ï¸  INFO: âœ… MÃ³dem iniciado correctamente
[20805ms] â„¹ï¸  INFO: âœ… GPS habilitado correctamente
[20805ms] â„¹ï¸  INFO: ğŸ›°ï¸  Obteniendo coordenadas GPS del mÃ³dem SIM...
[28127ms] â„¹ï¸  INFO: ğŸ”„ Intento 1 de 50 para obtener GPS
[29439ms] â„¹ï¸  INFO: ğŸ”„ Intento 2 de 50 para obtener GPS
[30751ms] â„¹ï¸  INFO: ğŸ”„ Intento 3 de 50 para obtener GPS
[32063ms] â„¹ï¸  INFO: ğŸ”„ Intento 4 de 50 para obtener GPS
[33375ms] â„¹ï¸  INFO: ğŸ”„ Intento 5 de 50 para obtener GPS
[34687ms] â„¹ï¸  INFO: ğŸ”„ Intento 6 de 50 para obtener GPS
[35999ms] â„¹ï¸  INFO: ğŸ”„ Intento 7 de 50 para obtener GPS
[37311ms] â„¹ï¸  INFO: ğŸ”„ Intento 8 de 50 para obtener GPS
[38623ms] â„¹ï¸  INFO: ğŸ”„ Intento 9 de 50 para obtener GPS
[39935ms] â„¹ï¸  INFO: ğŸ”„ Intento 10 de 50 para obtener GPS
[41247ms] â„¹ï¸  INFO: ğŸ”„ Intento 11 de 50 para obtener GPS
[42559ms] â„¹ï¸  INFO: ğŸ”„ Intento 12 de 50 para obtener GPS
[43871ms] â„¹ï¸  INFO: ğŸ”„ Intento 13 de 50 para obtener GPS
[45183ms] â„¹ï¸  INFO: ğŸ”„ Intento 14 de 50 para obtener GPS
[46495ms] â„¹ï¸  INFO: ğŸ”„ Intento 15 de 50 para obtener GPS
[47807ms] â„¹ï¸  INFO: ğŸ”„ Intento 16 de 50 para obtener GPS
[49119ms] â„¹ï¸  INFO: ğŸ”„ Intento 17 de 50 para obtener GPS
[50431ms] â„¹ï¸  INFO: ğŸ”„ Intento 18 de 50 para obtener GPS
[51743ms] â„¹ï¸  INFO: ğŸ”„ Intento 19 de 50 para obtener GPS
[53055ms] â„¹ï¸  INFO: ğŸ”„ Intento 20 de 50 para obtener GPS
[54367ms] â„¹ï¸  INFO: ğŸ”„ Intento 21 de 50 para obtener GPS
[55679ms] â„¹ï¸  INFO: ğŸ”„ Intento 22 de 50 para obtener GPS
[56991ms] â„¹ï¸  INFO: ğŸ”„ Intento 23 de 50 para obtener GPS
[58303ms] â„¹ï¸  INFO: ğŸ”„ Intento 24 de 50 para obtener GPS
[59615ms] â„¹ï¸  INFO: ğŸ”„ Intento 25 de 50 para obtener GPS
[60927ms] â„¹ï¸  INFO: ğŸ”„ Intento 26 de 50 para obtener GPS
[62239ms] â„¹ï¸  INFO: ğŸ”„ Intento 27 de 50 para obtener GPS
[63551ms] â„¹ï¸  INFO: ğŸ”„ Intento 28 de 50 para obtener GPS
[64863ms] â„¹ï¸  INFO: ğŸ”„ Intento 29 de 50 para obtener GPS
[66175ms] â„¹ï¸  INFO: ğŸ”„ Intento 30 de 50 para obtener GPS
[67487ms] â„¹ï¸  INFO: ğŸ”„ Intento 31 de 50 para obtener GPS
[68799ms] â„¹ï¸  INFO: ğŸ”„ Intento 32 de 50 para obtener GPS
[70111ms] â„¹ï¸  INFO: ğŸ”„ Intento 33 de 50 para obtener GPS
[71423ms] â„¹ï¸  INFO: ğŸ”„ Intento 34 de 50 para obtener GPS
[72735ms] â„¹ï¸  INFO: ğŸ”„ Intento 35 de 50 para obtener GPS
[74047ms] â„¹ï¸  INFO: ğŸ”„ Intento 36 de 50 para obtener GPS
[75359ms] â„¹ï¸  INFO: ğŸ”„ Intento 37 de 50 para obtener GPS
[76671ms] â„¹ï¸  INFO: ğŸ”„ Intento 38 de 50 para obtener GPS
[77983ms] â„¹ï¸  INFO: ğŸ”„ Intento 39 de 50 para obtener GPS
[79295ms] â„¹ï¸  INFO: ğŸ”„ Intento 40 de 50 para obtener GPS
[80607ms] â„¹ï¸  INFO: ğŸ”„ Intento 41 de 50 para obtener GPS
[81919ms] â„¹ï¸  INFO: ğŸ”„ Intento 42 de 50 para obtener GPS
[83231ms] â„¹ï¸  INFO: ğŸ”„ Intento 43 de 50 para obtener GPS
[84543ms] â„¹ï¸  INFO: ğŸ”„ Intento 44 de 50 para obtener GPS
[85855ms] â„¹ï¸  INFO: ğŸ”„ Intento 45 de 50 para obtener GPS
[87167ms] â„¹ï¸  INFO: ğŸ”„ Intento 46 de 50 para obtener GPS
[88480ms] â„¹ï¸  INFO: ğŸ”„ Intento 47 de 50 para obtener GPS
[89793ms] â„¹ï¸  INFO: ğŸ”„ Intento 48 de 50 para obtener GPS
[91106ms] â„¹ï¸  INFO: ğŸ”„ Intento 49 de 50 para obtener GPS
[92419ms] â„¹ï¸  INFO: ğŸ”„ Intento 50 de 50 para obtener GPS
[92419ms] âš ï¸  WARN: âŒ No se pudieron obtener coordenadas GPS despuÃ©s de 50 intentos
[92429ms] âš ï¸  WARN: âš ï¸  No se pudieron obtener coordenadas GPS
[92429ms] â„¹ï¸  INFO: ğŸ›°ï¸  Deteniendo mÃ³dulo GPS integrado
[97651ms] â„¹ï¸  INFO: âœ… GPS deshabilitado correctamente
[97651ms] â„¹ï¸  INFO: ğŸ”‹ GPS detenido para ahorrar energÃ­a
[97651ms] â„¹ï¸  INFO: ğŸ”Œ Apagando mÃ³dem para mÃ¡ximo ahorro de energÃ­a
[102661ms] â„¹ï¸  INFO: âœ… Funciones del mÃ³dem desactivadas
[107861ms] â„¹ï¸  INFO: ğŸ”‹ MÃ³dem apagado completamente - mÃ¡ximo ahorro de energÃ­a
âœ… GPS del mÃ³dem SIM configurado
ğŸŒ± Iniciando lectura de sensores...
----REQUEST 485 Sonda Seed
12,04,00,00,00,03,B2,A8, 
----RESPONSE 485 Sonda Seed
12,04,06,08,37,20,9D,14,23,99,D8,00, 
âœ… Sonda Seed - ComunicaciÃ³n exitosa (11 bytes)
âœ… Sonda Seed - Datos procesados correctamente
âœ… AHT20 - Lectura exitosa
Sensor AHT20
2228
6571
-----------
âœ… BaterÃ­a - Lectura exitosa
---------Bateria----------
376
-------------------
=== RESUMEN DE ESTADO ===
Sonda: âœ… OK
AHT: âœ… OK
BaterÃ­a: âœ… OK
========================
ğŸ“Š DATOS DE SENSORES LEÃDOS:
=============================
ğŸŒ± DATOS DE SUELO:
   Temperatura: 21.0Â°C
   Humedad: 83.5%
   Conductividad: 5155 Î¼S/cm
   pH: 0.00
ğŸŒ¡ï¸  DATOS AMBIENTALES:
   Temperatura: 22.3Â°C
   Humedad: 65.7%
ğŸ”‹ DATOS DEL SISTEMA:
   Voltaje baterÃ­a: 3.46V
   Calidad seÃ±al: 0 dBm
ğŸ›°ï¸  DATOS GPS:
   Latitud: 0.000000Â°
   Longitud: 0.000000Â°
   Altitud: 0.0m
=============================
âœ… Lectura de sensores completada
ğŸ“¡ Iniciando configuraciÃ³n del mÃ³dem LTE/GSM...
[110286ms] â„¹ï¸  INFO: ğŸš€ Iniciando configuraciÃ³n del mÃ³dem LTE/GSM
[110296ms] â„¹ï¸  INFO: ğŸ“± Iniciando comunicaciÃ³n GSM
[111557ms] ğŸ” DEBUG: ğŸ”„ Esperando respuesta del mÃ³dem...
[112797ms] ğŸ” DEBUG: ğŸ”„ Esperando respuesta del mÃ³dem...
[114037ms] ğŸ” DEBUG: ğŸ”„ Esperando respuesta del mÃ³dem...
[115277ms] ğŸ” DEBUG: ğŸ”„ Esperando respuesta del mÃ³dem...
[116517ms] ğŸ” DEBUG: ğŸ”„ Esperando respuesta del mÃ³dem...
[116517ms] ğŸ” DEBUG: ğŸ”Œ Pulsando pin PWRKEY del mÃ³dem
[120717ms] ğŸ” DEBUG: âœ… Pulsado PWRKEY completado
[120717ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CPIN?
[135717ms] âš ï¸  WARN: âš ï¸  Comando AT fallÃ³: +CPIN? (esperaba: READY)
[135717ms] â„¹ï¸  INFO: ğŸ”„ Reintentando inicio del mÃ³dem
[136148ms] â„¹ï¸  INFO: âœ… ComunicaciÃ³n GSM establecida
[136148ms] â„¹ï¸  INFO: ğŸ“¡ Encendiendo RF del mÃ³dem
[136148ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CFUN=1
AT+CFUN=1
OK
[146158ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +CFUN=1
[146158ms] â„¹ï¸  INFO: âœ… RF del mÃ³dem activada correctamente
[148158ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CFUN?
AT+CFUN?
+CFUN: 1

OK
[158158ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +CFUN?
[158158ms] â„¹ï¸  INFO: âœ… RF verificada - mÃ³dem completamente funcional
[158168ms] â„¹ï¸  INFO: ğŸ“± Obteniendo informaciÃ³n de la tarjeta SIM
[165478ms] â„¹ï¸  INFO: ğŸ“± ICCID: 89883030000096466336
[165478ms] â„¹ï¸  INFO: ğŸ“¶ Calidad de seÃ±al: 21
[165478ms] â„¹ï¸  INFO: âœ… SeÃ±al excelente
[165488ms] â„¹ï¸  INFO: ğŸ’¾ Iniciando sistema de archivos LittleFS
[165488ms] ğŸ” DEBUG: ğŸ”„ Intentando montar LittleFS (intento 1 de 5)
[165501ms] â„¹ï¸  INFO: âœ… LittleFS montado correctamente
[165506ms] â„¹ï¸  INFO: ğŸ’¾ Espacio total: 1441792 bytes
[165506ms] â„¹ï¸  INFO: ğŸ’¾ Espacio usado: 8192 bytes
[165516ms] â„¹ï¸  INFO: ğŸ’¾ Espacio libre: 1433600 bytes
[165516ms] â„¹ï¸  INFO: ğŸ“¦ Preparando datos para envÃ­o
ğŸ“± ICCID: 89883030000096466336
ğŸ“¶ Calidad de seÃ±al: 21
[165527ms] ğŸ” DEBUG: ğŸ”„ Convirtiendo ICCID a formato hexadecimal
------ICCID hex------
0x38 0x39 0x38 0x38 0x33 0x30 0x33 0x30 0x30 0x30 0x30 0x30 0x39 0x36 0x34 0x36 0x36 0x33 0x33 0x36 
„ Preparando datos de sensores
[165548ms] ğŸ” DEBUG: ğŸ”„ Preparando datos de sensores
sizeof(sensordata_type) = 43
STRUCT_SIZE usado = 46
âš ï¸  ADVERTENCIA: sizeof discrepancia - usando 46 bytes fijos
------Sensor data hex------
0x08 0x37 0x20 0x9D 0x14 0x23 0x00 0x00 0x19 0xAB 0x08 0xB4 0x01 0x78 0x07 0xE9 0x0A 0x1F 0x0B 0x17 0x0E 0x15 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x05 0x08 0x00 0x02 0x01 0xAE 0x04 0x02 0x01 0x00 0x00 0x00 
TamaÃ±o estructura: 46
[165592ms] ğŸ” DEBUG: ğŸ”„ Construyendo cadena de envÃ­o
------Cadena envÃ­o hex------
0x38 0x39 0x38 0x38 0x33 0x30 0x33 0x30 0x30 0x30 0x30 0x30 0x39 0x36 0x34 0x36 0x36 0x33 0x33 0x36 0x08 0x37 0x20 0x9D 0x14 0x23 0x00 0x00 0x19 0xAB 0x08 0xB4 0x01 0x78 0x07 0xE9 0x0A 0x1F 0x0B 0x17 0x0E 0x15 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x05 0x08 0x00 0x02 0x01 0xAE 0x04 0x02 0x01 0x00 0x00 0x00 0x20 0x04 
: 
[165625ms] â„¹ï¸  INFO: ğŸ” Encriptando datos con AES
ğŸ” [CRYPTO] [encryptChar] [INFO] 165636ms: Iniciando encriptaciÃ³n de array de caracteres
ğŸ” [CRYPTO] [encryptChar] [INFO] 165636ms: EncriptaciÃ³n exitosa en 0ms
[165646ms] â„¹ï¸  INFO: âœ… Datos preparados: 108 bytes encriptados
[165657ms] â„¹ï¸  INFO: ğŸ“¦ Datos preparados y encriptados: 108 bytes
[165657ms] â„¹ï¸  INFO: ğŸ’¾ Guardando dato en buffer local
[165684ms] â„¹ï¸  INFO: âœ… Dato guardado en buffer. Total en buffer: 1 lÃ­neas
[165684ms] â„¹ï¸  INFO: ğŸŒ Iniciando conexiÃ³n LTE
[165695ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CNMP=38
AT+CNMP=38
OK
[169695ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +CNMP=38
[169695ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CMNB=1
AT+CMNB=1
OK
[173695ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +CMNB=1
[173695ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CBANDCFG="CAT-M",2,4,5
AT+CBANDCFG="CAT-M",2,4,5
OK
[177695ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +CBANDCFG="CAT-M",2,4,5
[177695ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CBANDCFG="NB-IOT"
AT+CBANDCFG="NB-IOT"
OK
[181705ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +CBANDCFG="NB-IOT"
[181705ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CBANDCFG?
AT+CBANDCFG?
+CBANDCFG: "CAT-M",2,4,5
+CBANDCFG: "NB-IOT",1,2,3,4,5,8,12,13,18,19,20,25,26,28,66,71,85

OK
[185705ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +CBANDCFG?
[188705ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CGDCONT=1,"IP","em"
AT+CGDCONT=1,"IP","em"
OK
[192705ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +CGDCONT=1,"IP","em"
[192705ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CNACT=0,1
AT+CNACT=0,1
OK

+APP PDP: 0,ACTIVE
[197705ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +CNACT=0,1
[197976ms] ğŸ” DEBUG: ğŸ“¶ Calidad de seÃ±al: 19
[197976ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CNACT?
AT+CNACT?
+CNACT: 0,1,"10.190.148.45"
+CNACT: 1,0,"0.0.0.0"
+CNACT: 2,0,"0.0.0.0"
+CNACT: 3,0,"0.0.0.0"

OK
[201976ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +CNACT?
[202277ms] â„¹ï¸  INFO: âœ… Conectado a la red LTE
[202277ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CPSI?
AT+CPSI?
+CPSI: LTE CAT-M1,Online,334-03,0x13BD,36786976,484,EUTRAN-BAND4,2225,4,4,-9,-100,-77,18

OK
[206277ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +CPSI?
[206277ms] â„¹ï¸  INFO: âœ… ConexiÃ³n LTE establecida, enviando datos
ğŸ’¾ [PERSIST] Estado guardado en NVS:
   RSSI=18 | Banda=1 | Fallos=0 | AvgTime=0ms
[206552ms] â„¹ï¸  INFO: ğŸ“¤ Iniciando envÃ­o de datos del buffer
[206565ms] â„¹ï¸  INFO: ğŸ”Œ Abriendo conexiÃ³n TCP a d01.elathia.ai:11235
[206565ms] ğŸ” DEBUG: ğŸ”„ Intento 1 de 5
[206565ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CAOPEN=0,0,"TCP","d01.elathia.ai",11235
AT+CAOPEN=0,0,"TCP","d01.elathia.ai",11235
+CAOPEN: 0,0

OK
[210576ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +CAOPEN=0,0,"TCP","d01.elathia.ai",11235
[210576ms] â„¹ï¸  INFO: âœ… Socket TCP abierto exitosamente
[210602ms] ğŸ” DEBUG: ğŸ“¤ Enviando 108 bytes por TCP
[210645ms] ğŸ” DEBUG: âœ… Datos TCP enviados exitosamente
[210645ms] â„¹ï¸  INFO: âœ… Enviado: kwXLrmEe5sTdYrBMqL+nvXprT48SI4XGaTf/zoQs8DF9XExctP...
[210660ms] ğŸ” DEBUG: ğŸ”Œ Cerrando conexiÃ³n TCP
[210661ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CACLOSE=0
[210661ms] ğŸ” DEBUG: ğŸ§¹ Limpiados 11 bytes del buffer serial
AT+CACLOSE=0
OK
[214661ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +CACLOSE=0
[214661ms] ğŸ” DEBUG: âœ… ConexiÃ³n TCP cerrada
[214684ms] â„¹ï¸  INFO: ğŸ“Š Resumen de envÃ­o: 1 enviados, 0 fallidos
[214685ms] â„¹ï¸  INFO: ğŸ§¹ Limpiando buffer de datos enviados
[214715ms] â„¹ï¸  INFO: âœ… Buffer limpio. Datos pendientes: 0 lÃ­neas
[214715ms] ğŸ” DEBUG: ğŸ”Œ Pulsando pin PWRKEY del mÃ³dem
[218925ms] ğŸ” DEBUG: âœ… Pulsado PWRKEY completado
[218925ms] â„¹ï¸  INFO: ğŸ ConfiguraciÃ³n del mÃ³dem completada
âœ… ConfiguraciÃ³n del mÃ³dem completada
ğŸ’¤ Preparando sistema para modo deep sleep...
â±ï¸  ESTADÃSTICAS DE TIEMPO DE FUNCIONAMIENTO:
=============================================
   Tiempo total: 218926 ms
   DuraciÃ³n: 3 minutos y 38 segundos
   CronÃ³metro estado: DETENIDO
ğŸ“Š ESTADÃSTICAS FINALES DEL SISTEMA:
=== ESTADÃSTICAS DEL SISTEMA ===
MÃ³dem inicializado: SÃ­
GPS habilitado: No
Calidad de seÃ±al: 21
Fallos consecutivos: 0
Ãšltimo intento de conexiÃ³n: 0ms
Timeout adaptativo actual: 4000ms

âœ… Sistema preparado para deep sleep
ğŸŒ™ Entrando en modo deep sleep...
â° PrÃ³ximo despertar en 600 segundos
Setup ESP32 to sleep for every 600 seconds
Going to sleep now
