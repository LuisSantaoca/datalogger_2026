[154903ms] â„¹ï¸  INFO: ğŸ”„ Reintentando inicio del mÃ³dem
[163303ms] â„¹ï¸  INFO: ğŸ”„ Reintentando inicio del mÃ³dem
ESP-ROM:esp32s3-20210327
Build:Mar 27 2021
rst:0x1 (POWERON),boot:0xb (SPI_FAST_FLASH_BOOT)
SPIWP:0xee
mode:DIO, clock div:1
load:0x3fce2820,len:0x1188
load:0x403c8700,len:0x4
load:0x403c8704,len:0xbf0
load:0x403cb700,len:0x30e4
entry 0x403c88ac
ğŸš€ SISTEMA DE MONITOREO AMBIENTAL ELATHIA
==========================================
Iniciando sistema...
â±ï¸  CronÃ³metro iniciado - midiendo tiempo de funcionamiento
ğŸ›°ï¸  CONFIGURACIÃ“N DE GPS:
   GPS SIM (mÃ³dem): âœ… HABILITADO
[1517ms] â„¹ï¸  TIME_INFO: ğŸ• Iniciando configuraciÃ³n del sistema de tiempo
[1517ms] ğŸ” TIME_DEBUG: âš¡ EnergÃ­a activada para RTC
[3527ms] ğŸ” TIME_DEBUG: ğŸ”„ RTC - Intento de inicializaciÃ³n 1 de 3
[3527ms] â„¹ï¸  TIME_INFO: âœ… RTC inicializado exitosamente en intento 1
[3638ms] ğŸ” TIME_DEBUG: ğŸ”‹ RTC - BaterÃ­a en buen estado
[3638ms] ğŸ” TIME_DEBUG: ğŸ”„ RTC - Intento de lectura 1 de 3
[3639ms] â„¹ï¸  TIME_INFO: âœ… Tiempo leÃ­do exitosamente en intento 1
[3650ms] â„¹ï¸  TIME_INFO: ğŸ“… Fecha y hora configuradas:
[3650ms] â„¹ï¸  TIME_INFO:    2025/11/25 17:37:8
[3660ms] â„¹ï¸  TIME_INFO: ğŸ“Š Estado del RTC:
[3660ms] â„¹ï¸  TIME_INFO:    Inicializado: âœ… SI
[3671ms] â„¹ï¸  TIME_INFO:    BaterÃ­a: âœ… OK
[3671ms] â„¹ï¸  TIME_INFO:    Errores de init: 0
[3681ms] â„¹ï¸  TIME_INFO:    Errores de lectura: 0
[3681ms] â„¹ï¸  TIME_INFO: âœ… Sistema de tiempo configurado exitosamente
âœ… Sistema de tiempo configurado
ğŸ›°ï¸  Configurando GPS del mÃ³dem SIM...
[3692ms] â„¹ï¸  INFO: ğŸ›°ï¸  Configurando GPS integrado del mÃ³dem
[3702ms] â„¹ï¸  INFO: ğŸ›°ï¸  Iniciando mÃ³dulo GPS integrado
[12103ms] â„¹ï¸  INFO: ğŸ”„ Reintentando inicio del mÃ³dem
[13113ms] â„¹ï¸  INFO: âœ… MÃ³dem iniciado correctamente
[26980ms] â„¹ï¸  INFO: âœ… GPS habilitado correctamente
[26980ms] â„¹ï¸  INFO: ğŸ›°ï¸  Obteniendo coordenadas GPS del mÃ³dem SIM...
[33302ms] â„¹ï¸  INFO: ğŸ”„ Intento 1 de 50 para obtener GPS
[34114ms] â„¹ï¸  INFO: ğŸ”„ Intento 2 de 50 para obtener GPS
[34926ms] â„¹ï¸  INFO: ğŸ”„ Intento 3 de 50 para obtener GPS
[35738ms] â„¹ï¸  INFO: ğŸ”„ Intento 4 de 50 para obtener GPS
[36550ms] â„¹ï¸  INFO: ğŸ”„ Intento 5 de 50 para obtener GPS
[37362ms] â„¹ï¸  INFO: ğŸ”„ Intento 6 de 50 para obtener GPS
[38174ms] â„¹ï¸  INFO: ğŸ”„ Intento 7 de 50 para obtener GPS
[38987ms] â„¹ï¸  INFO: ğŸ”„ Intento 8 de 50 para obtener GPS
[39800ms] â„¹ï¸  INFO: ğŸ”„ Intento 9 de 50 para obtener GPS
[40613ms] â„¹ï¸  INFO: ğŸ”„ Intento 10 de 50 para obtener GPS
[41426ms] â„¹ï¸  INFO: ğŸ”„ Intento 11 de 50 para obtener GPS
[42239ms] â„¹ï¸  INFO: ğŸ”„ Intento 12 de 50 para obtener GPS
[43052ms] â„¹ï¸  INFO: ğŸ”„ Intento 13 de 50 para obtener GPS
[43865ms] â„¹ï¸  INFO: ğŸ”„ Intento 14 de 50 para obtener GPS
[44678ms] â„¹ï¸  INFO: ğŸ”„ Intento 15 de 50 para obtener GPS
[45491ms] â„¹ï¸  INFO: ğŸ”„ Intento 16 de 50 para obtener GPS
[46304ms] â„¹ï¸  INFO: ğŸ”„ Intento 17 de 50 para obtener GPS
[47117ms] â„¹ï¸  INFO: ğŸ”„ Intento 18 de 50 para obtener GPS
[47930ms] â„¹ï¸  INFO: ğŸ”„ Intento 19 de 50 para obtener GPS
[48743ms] â„¹ï¸  INFO: ğŸ”„ Intento 20 de 50 para obtener GPS
[49556ms] â„¹ï¸  INFO: ğŸ”„ Intento 21 de 50 para obtener GPS
[50369ms] â„¹ï¸  INFO: ğŸ”„ Intento 22 de 50 para obtener GPS
[51182ms] â„¹ï¸  INFO: ğŸ”„ Intento 23 de 50 para obtener GPS
[51995ms] â„¹ï¸  INFO: ğŸ”„ Intento 24 de 50 para obtener GPS
[52808ms] â„¹ï¸  INFO: ğŸ”„ Intento 25 de 50 para obtener GPS
[53621ms] â„¹ï¸  INFO: ğŸ”„ Intento 26 de 50 para obtener GPS
[54434ms] â„¹ï¸  INFO: ğŸ”„ Intento 27 de 50 para obtener GPS
[55247ms] â„¹ï¸  INFO: ğŸ”„ Intento 28 de 50 para obtener GPS
[56060ms] â„¹ï¸  INFO: ğŸ”„ Intento 29 de 50 para obtener GPS
[56873ms] â„¹ï¸  INFO: ğŸ”„ Intento 30 de 50 para obtener GPS
[57686ms] â„¹ï¸  INFO: ğŸ”„ Intento 31 de 50 para obtener GPS
[58499ms] â„¹ï¸  INFO: ğŸ”„ Intento 32 de 50 para obtener GPS
[59312ms] â„¹ï¸  INFO: ğŸ”„ Intento 33 de 50 para obtener GPS
[60125ms] â„¹ï¸  INFO: ğŸ”„ Intento 34 de 50 para obtener GPS
[60938ms] â„¹ï¸  INFO: ğŸ”„ Intento 35 de 50 para obtener GPS
[61751ms] â„¹ï¸  INFO: ğŸ”„ Intento 36 de 50 para obtener GPS
[62564ms] â„¹ï¸  INFO: ğŸ”„ Intento 37 de 50 para obtener GPS
[63377ms] â„¹ï¸  INFO: ğŸ”„ Intento 38 de 50 para obtener GPS
[64190ms] â„¹ï¸  INFO: ğŸ”„ Intento 39 de 50 para obtener GPS
[65003ms] â„¹ï¸  INFO: ğŸ”„ Intento 40 de 50 para obtener GPS
[65816ms] â„¹ï¸  INFO: ğŸ”„ Intento 41 de 50 para obtener GPS
[66629ms] â„¹ï¸  INFO: ğŸ”„ Intento 42 de 50 para obtener GPS
[67442ms] â„¹ï¸  INFO: ğŸ”„ Intento 43 de 50 para obtener GPS
[72685ms] â„¹ï¸  INFO: âœ… Coordenadas GPS obtenidas en 44 intentos
[72685ms] â„¹ï¸  INFO: âœ… Coordenadas GPS obtenidas y almacenadas
[72695ms] â„¹ï¸  INFO: ğŸ›°ï¸  Deteniendo mÃ³dulo GPS integrado
[77906ms] â„¹ï¸  INFO: âœ… GPS deshabilitado correctamente
[77906ms] â„¹ï¸  INFO: ğŸ”‹ GPS detenido para ahorrar energÃ­a
[77906ms] â„¹ï¸  INFO: ğŸ”Œ Apagando mÃ³dem para mÃ¡ximo ahorro de energÃ­a
[80916ms] â„¹ï¸  INFO: âœ… Funciones del mÃ³dem desactivadas
[83616ms] â„¹ï¸  INFO: ğŸ”‹ MÃ³dem apagado completamente - mÃ¡ximo ahorro de energÃ­a
âœ… GPS del mÃ³dem SIM configurado
ğŸŒ± Iniciando lectura de sensores...
----REQUEST 485 Sonda Seed
12,04,00,00,00,03,B2,A8, 
----RESPONSE 485 Sonda Seed
12,04,06,07,13,10,2D,01,6F,E8,A2,00, 
âœ… Sonda Seed - ComunicaciÃ³n exitosa (11 bytes)
âœ… Sonda Seed - Datos procesados correctamente
âœ… AHT20 - Lectura exitosa
Sensor AHT20
2879
4626
-----------
âœ… BaterÃ­a - Lectura exitosa
---------Bateria----------
374
-------------------
=== RESUMEN DE ESTADO ===
Sonda: âœ… OK
AHT: âœ… OK
BaterÃ­a: âœ… OK
========================
ğŸ“Š DATOS DE SENSORES LEÃDOS:
=============================
ğŸŒ± DATOS DE SUELO:
   Temperatura: 18.1Â°C
   Humedad: 41.4%
   Conductividad: 367 Î¼S/cm
   pH: 0.00
ğŸŒ¡ï¸  DATOS AMBIENTALES:
   Temperatura: 28.8Â°C
   Humedad: 46.3%
ğŸ”‹ DATOS DEL SISTEMA:
   Voltaje baterÃ­a: 3.44V
   Calidad seÃ±al: 0 dBm
ğŸ›°ï¸  DATOS GPS:
   Latitud: 19.739380Â°
   Longitud: -103.515457Â°
   Altitud: 1525.6m
=============================
âœ… Lectura de sensores completada
ğŸ“¡ Iniciando configuraciÃ³n del mÃ³dem LTE/GSM...
[86041ms] â„¹ï¸  INFO: ğŸš€ Iniciando configuraciÃ³n del mÃ³dem LTE/GSM
[86051ms] â„¹ï¸  INFO: ğŸ”§ ConfiguraciÃ³n del mÃ³dem inicializada
[86061ms] â„¹ï¸  INFO: ğŸ“± Iniciando comunicaciÃ³n GSM
[86702ms] ğŸ” DEBUG: ğŸ”„ Esperando respuesta del mÃ³dem...
[87322ms] ğŸ” DEBUG: ğŸ”„ Esperando respuesta del mÃ³dem...
[87942ms] ğŸ” DEBUG: ğŸ”„ Esperando respuesta del mÃ³dem...
[88562ms] ğŸ” DEBUG: ğŸ”„ Esperando respuesta del mÃ³dem...
[88562ms] ğŸ” DEBUG: ğŸ”Œ Pulsando pin PWRKEY del mÃ³dem
[90762ms] ğŸ” DEBUG: âœ… Pulsado PWRKEY completado
[90762ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CPIN?
[90762ms] ğŸ” DEBUG: â±ï¸  Usando timeout especificado: 8000ms
[98762ms] âš ï¸  WARN: âš ï¸  Comando AT fallÃ³: +CPIN? (esperaba: READY)
[98762ms] â„¹ï¸  INFO: ğŸ”„ Reintentando inicio del mÃ³dem
[99193ms] â„¹ï¸  INFO: âœ… ComunicaciÃ³n GSM establecida
[99193ms] â„¹ï¸  INFO: ğŸ“¡ Encendiendo RF del mÃ³dem
[99193ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CFUN=1
[99203ms] ğŸ” DEBUG: â±ï¸  Usando timeout especificado: 5000ms
AT+CFUN=1
OK

DST: 0

*PSUTTZ: 25/11/25,17:38:50","-24",0
[104203ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +CFUN=1
[104203ms] â„¹ï¸  INFO: âœ… RF del mÃ³dem activada correctamente
[104703ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CFUN?
[104703ms] ğŸ” DEBUG: â±ï¸  Usando timeout especificado: 5000ms
AT+CFUN?
+CFUN: 1

OK
[109703ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +CFUN?
[109703ms] â„¹ï¸  INFO: âœ… RF verificada - mÃ³dem completamente funcional
[109713ms] â„¹ï¸  INFO: ğŸ“± Obteniendo informaciÃ³n de la tarjeta SIM
[110637ms] â„¹ï¸  INFO: ğŸ“± ICCID: 89883030000096466658
[110637ms] â„¹ï¸  INFO: ğŸ“¶ Calidad de seÃ±al: 10
[110637ms] âš ï¸  WARN: âš ï¸  SeÃ±al regular
[110647ms] â„¹ï¸  INFO: ğŸ’¾ Iniciando sistema de archivos LittleFS
[110647ms] ğŸ” DEBUG: ğŸ”„ Intentando montar LittleFS (intento 1 de 3)
[110662ms] â„¹ï¸  INFO: âœ… LittleFS montado correctamente
[110686ms] â„¹ï¸  INFO: ğŸ’¾ Espacio total: 1441792 bytes
[110686ms] â„¹ï¸  INFO: ğŸ’¾ Espacio usado: 16384 bytes
[110686ms] â„¹ï¸  INFO: ğŸ’¾ Espacio libre: 1425408 bytes
[110697ms] â„¹ï¸  INFO: ğŸ“¦ Preparando datos para envÃ­o
ğŸ“± ICCID: 89883030000096466658
ğŸ“¶ Calidad de seÃ±al: 10
[110707ms] ğŸ” DEBUG: ğŸ”„ Convirtiendo ICCID a formato hexadecimal
------ICCID hex------
0x38 0x39 0x38 0x38 0x33 0x30 0x33 0x30 0x30 0x30 0x30 0x30 0x39 0x36 0x34 0x36 0x36 0x36 0x35 0x38 
„ Preparando datos de sensores
[110728ms] ğŸ” DEBUG: ğŸ”„ Preparando datos de sensores
------Sensor data hex------
0x07 0x13 0x10 0x2D 0x01 0x6F 0x00 0x00 0x12 0x12 0x0B 0x3F 0x01 0x76 0x07 0xE9 0x0B 0x19 0x11 0x25 0x08 0x0A 0x40 0xEA 0x9D 0x41 0xEA 0x07 0xCF 0xC2 0xA0 0xB2 0xBE 0x44 
endo cadena de envÃ­o
[110751ms] ğŸ” DEBUG: ğŸ”„ Construyendo cadena de envÃ­o
------Cadena envÃ­o hex------
0x38 0x39 0x38 0x38 0x33 0x30 0x33 0x30 0x30 0x30 0x30 0x30 0x39 0x36 0x34 0x36 0x36 0x36 0x35 0x38 0x07 0x13 0x10 0x2D 0x01 0x6F 0x00 0x00 0x12 0x12 0x0B 0x3F 0x01 0x76 0x07 0xE9 0x0B 0x19 0x11 0x25 0x08 0x0A 0x40 0xEA 0x9D 0x41 0xEA 0x07 0xCF 0xC2 0xA0 0xB2 0xBE 0x44 0xFA 0xFF 
s preparados: 
[110784ms] â„¹ï¸  INFO: ğŸ” Encriptando datos con AES
ğŸ” [CRYPTO] [encryptChar] [INFO] 110794ms: Iniciando encriptaciÃ³n de array de caracteres
ğŸ” [CRYPTO] [encryptChar] [INFO] 110794ms: EncriptaciÃ³n exitosa en 0ms
[110805ms] â„¹ï¸  INFO: âœ… Datos preparados: 88 bytes encriptados
[110805ms] â„¹ï¸  INFO: ğŸ“¦ Datos preparados y encriptados: 88 bytes
[110815ms] â„¹ï¸  INFO: ğŸ’¾ Guardando dato en buffer local
[110850ms] â„¹ï¸  INFO: âœ… Dato guardado en buffer. Total en buffer: 1 lÃ­neas
[110850ms] â„¹ï¸  INFO: ğŸŒ Iniciando conexiÃ³n LTE con estrategia secuencial por operador
[110861ms] ğŸ” DEBUG: âš¡ Enviando comando de configuraciÃ³n: +CNMP=38
AT+CNMP=38
OK
[110872ms] ğŸ” DEBUG: âš¡ Comando de configuraciÃ³n exitoso: +CNMP=38 (tiempo: 11ms)
[110872ms] ğŸ” DEBUG: âš¡ Enviando comando de configuraciÃ³n: +CMNB=1
AT+CMNB=1
OK
[110894ms] ğŸ” DEBUG: âš¡ Comando de configuraciÃ³n exitoso: +CMNB=1 (tiempo: 11ms)
[110894ms] ğŸ” DEBUG: âš¡ Enviando comando de configuraciÃ³n: +CBANDCFG="CAT-M",1,2,3,4,5,8,12,13,14,18,19,20,25,26,27,28,66,85
AT+CBANDCFG="CAT-M",1,2,3,4,5,8,12,13,14,18,19,20,25,26,27,28,66,85
OK
[110923ms] ğŸ” DEBUG: âš¡ Comando de configuraciÃ³n exitoso: +CBANDCFG="CAT-M",1,2,3,4,5,8,12,13,14,18,19,20,25,26,27,28,66,85 (tiempo: 18ms)
[110933ms] ğŸ” DEBUG: âš¡ Enviando comando de configuraciÃ³n: +CBANDCFG="NB-IOT"
AT+CBANDCFG="NB-IOT"
OK
[110957ms] ğŸ” DEBUG: âš¡ Comando de configuraciÃ³n exitoso: +CBANDCFG="NB-IOT" (tiempo: 13ms)
[110957ms] â„¹ï¸  INFO: ğŸ“‹ Obteniendo operadores disponibles en la zona (obligatorio)...
[110967ms] â„¹ï¸  INFO: ğŸ“‹ Obteniendo listado de operadores disponibles (COPS)...
[110977ms] â„¹ï¸  INFO: â³ Ejecutando AT+COPS=? (puede tardar 30-120 segundos)...
[110999ms] â„¹ï¸  INFO: â³ Buscando operadores... 0s
[110999ms] â„¹ï¸  INFO: â³ Buscando operadores... 0s
[110999ms] â„¹ï¸  INFO: â³ Buscando operadores... 0s
[111009ms] â„¹ï¸  INFO: â³ Buscando operadores... 0s
[111009ms] â„¹ï¸  INFO: â³ Buscando operadores... 0s
[111020ms] â„¹ï¸  INFO: â³ Buscando operadores... 0s
[111020ms] â„¹ï¸  INFO: â³ Buscando operadores... 0s
[111030ms] â„¹ï¸  INFO: â³ Buscando operadores... 0s
[111030ms] â„¹ï¸  INFO: â³ Buscando operadores... 0s
[111040ms] â„¹ï¸  INFO: â³ Buscando operadores... 0s
[179342ms] â„¹ï¸  INFO: âœ… Listado COPS obtenido exitosamente
[179342ms] ğŸ” DEBUG: ğŸ“„ Respuesta COPS completa:
[179342ms] ğŸ” DEBUG: AT+COPS=?
+COPS: (2,"TELCEL","TELCEL","334020",7),,(0,1,2,3,4),(0,1,2)

OK

[179353ms] ğŸ” DEBUG: ğŸ§¹ Array de operadores limpiado
[179363ms] â„¹ï¸  INFO: ğŸ“‹ PROCESANDO OPERADORES DISPONIBLES:
[179363ms] â„¹ï¸  INFO: â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[179373ms] â„¹ï¸  INFO: ğŸ¢ Operador 1:
[179384ms] â„¹ï¸  INFO:    ğŸ“› Nombre: TELCEL (TELCEL)
[179384ms] â„¹ï¸  INFO:    ğŸ”¢ CÃ³digo: 334020
[179394ms] â„¹ï¸  INFO:    ğŸ“¶ TecnologÃ­a: 4G LTE
[179394ms] â„¹ï¸  INFO:    ğŸ“Š Estado: ğŸ”´ Actual
[179405ms] ğŸ” DEBUG: â• Operador agregado: TELCEL (334020)
[179405ms] â„¹ï¸  INFO:    ğŸ“‹ Agregado al array dinÃ¡mico - NO DISPONIBLE (Ã­ndice: 0)
[179415ms] â„¹ï¸  INFO: 
[179415ms] â„¹ï¸  INFO: ğŸ¢ Operador 2:
[179415ms] â„¹ï¸  INFO:    ğŸ“› Nombre: 1 (2)
[179425ms] â„¹ï¸  INFO:    ğŸ”¢ CÃ³digo: 3
[179426ms] â„¹ï¸  INFO:    ğŸ“¶ TecnologÃ­a: 3G HSDPA
[179436ms] â„¹ï¸  INFO:    ğŸ“Š Estado: ğŸš« Desconocido
[179436ms] ğŸ” DEBUG: â• Operador agregado: 2 (3)
[179446ms] â„¹ï¸  INFO:    ğŸ“‹ Agregado al array dinÃ¡mico - NO DISPONIBLE (Ã­ndice: 1)
[179446ms] â„¹ï¸  INFO: 
[179457ms] â„¹ï¸  INFO: ğŸ“Š Total de operadores encontrados: 2
[179457ms] â„¹ï¸  INFO: ğŸ“Š Operadores agregados al array: 2
[179467ms] ğŸ” DEBUG: ğŸ“‹ Operador no disponible: TELCEL
[179467ms] ğŸ” DEBUG: ğŸ“‹ Operador no disponible: 2
[179477ms] â„¹ï¸  INFO: ğŸ”„ Operadores ordenados por prioridad: 2 operadores
[179477ms] â„¹ï¸  INFO: ğŸ“‹ ARRAY FINAL DE OPERADORES (ordenado por prioridad):
[179488ms] â„¹ï¸  INFO:    1. TELCEL (334020)
[179488ms] â„¹ï¸  INFO:    2. 2 (3)
[179498ms] â„¹ï¸  INFO: â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[179509ms] â„¹ï¸  INFO: ğŸ”„ Probando operadores secuencialmente hasta envÃ­o exitoso
[179519ms] â„¹ï¸  INFO: ğŸ”„ Intentando operador 1 de 2: TELCEL (334020)
[179519ms] â„¹ï¸  INFO: ğŸ”„ Intentando conectar con TELCEL (334020)
[179529ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +COPS=1,2,"334020"
[179529ms] ğŸ” DEBUG: â±ï¸  Usando timeout especificado: 15000ms
AT+COPS=1,2,"334020"
OK
[194529ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +COPS=1,2,"334020"
[194529ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CGDCONT=1,"IP",""em""
[194539ms] ğŸ” DEBUG: â±ï¸  Usando timeout especificado: 3000ms
AT+CGDCONT=1,"IP",""em""
OK
[197539ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +CGDCONT=1,"IP",""em""
[197539ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CNACT=0,1
[197549ms] ğŸ” DEBUG: â±ï¸  Usando timeout especificado: 3000ms
AT+CNACT=0,1
OK

+APP PDP: 0,ACTIVE
[200549ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +CNACT=0,1
[200850ms] â„¹ï¸  INFO: âœ… Conectado exitosamente a TELCEL
[200850ms] â„¹ï¸  INFO: ğŸ“Š Obteniendo informaciÃ³n CPSI para TELCEL
[200860ms] ğŸ” DEBUG: ğŸ“¡ Obteniendo informaciÃ³n CPSI del mÃ³dem
[200883ms] â„¹ï¸  INFO: ğŸ“¡ CPSI COMPLETO para TELCEL:
[200883ms] â„¹ï¸  INFO:    AT+CPSI?
+CPSI: LTE CAT-M1,Online,334-020,0x1436,36875777,357,EUTRAN-BAND4,2050,5,5,-20,-127,-93,8

OK

[200893ms] ğŸ” DEBUG: ğŸ” Parseando respuesta CPSI: AT+CPSI?
+CPSI: LTE CAT-M1,Online,334-020,0x1436,36875777,357,EUTRAN-BAND4,2050,5,5,-20,-127,-93,8

OK

[200904ms] ğŸ” DEBUG: ğŸ“Š MÃ©tricas parseadas - RSRP: -20 dBm, RSRQ: -127 dB, RSSI: -93 dBm, SNR: 8 dB
[200914ms] â„¹ï¸  INFO: ğŸ“Š MÃ‰TRICAS DE SEÃ‘AL - TELCEL:
[200924ms] â„¹ï¸  INFO:    ğŸ“¶ RSRP: -20 dBm
[200924ms] â„¹ï¸  INFO:    ğŸ“ˆ RSRQ: -127 dB
[200935ms] â„¹ï¸  INFO:    ğŸ“¡ RSSI: -93 dBm
[200935ms] â„¹ï¸  INFO:    ğŸ”Š SNR:  8 dB
[200935ms] â„¹ï¸  INFO:    ğŸ”— Estado: Conectado
[200945ms] ğŸ” DEBUG: ğŸ† PuntuaciÃ³n calculada para TELCEL: 68
[200945ms] â„¹ï¸  INFO:    ğŸ† Score: 68
[201226ms] ğŸ” DEBUG: ğŸ“¶ Calidad de seÃ±al con TELCEL: 11
[201226ms] â„¹ï¸  INFO: ğŸ“¤ Intentando enviar datos con TELCEL
[201226ms] â„¹ï¸  INFO: ğŸ”Œ Abriendo conexiÃ³n TCP a d04.elathia.ai:12607
[201236ms] ğŸ” DEBUG: ğŸ”„ Intento 1 de 5
[201236ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CAOPEN=0,0,"TCP","d04.elathia.ai",12607
[201247ms] ğŸ” DEBUG: â±ï¸  Usando timeout especificado: 10000ms
AT+CAOPEN=0,0,"TCP","d04.elathia.ai",12607
+CAOPEN: 0,0

OK
[211247ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +CAOPEN=0,0,"TCP","d04.elathia.ai",12607
[211247ms] â„¹ï¸  INFO: âœ… Socket TCP abierto exitosamente
[211257ms] â„¹ï¸  INFO: ğŸ“¤ Iniciando envÃ­o de datos del buffer
[211261ms] â„¹ï¸  INFO: ğŸ”Œ Abriendo conexiÃ³n TCP a d04.elathia.ai:12607
[211261ms] ğŸ” DEBUG: ğŸ”„ Intento 1 de 5
[211272ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CAOPEN=0,0,"TCP","d04.elathia.ai",12607
[211282ms] ğŸ” DEBUG: â±ï¸  Usando timeout especificado: 10000ms
AT+CAOPEN=0,0,"TCP","d04.elathia.ai",12607
ERROR
[221282ms] âš ï¸  WARN: âš ï¸  Comando AT fallÃ³: +CAOPEN=0,0,"TCP","d04.elathia.ai",12607 (esperaba: +CAOPEN: 0,0)
[221282ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CACLOSE=0
[221292ms] ğŸ” DEBUG: â±ï¸  Usando timeout especificado: 2000ms
AT+CACLOSE=0
OK
[223292ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +CACLOSE=0
[223292ms] ğŸ” DEBUG: ğŸ”„ Reintentando apertura de socket...
[223792ms] ğŸ” DEBUG: ğŸ”„ Intento 2 de 5
[223792ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CAOPEN=0,0,"TCP","d04.elathia.ai",12607
[223802ms] ğŸ” DEBUG: â±ï¸  Usando timeout especificado: 10000ms
AT+CAOPEN=0,0,"TCP","d04.elathia.ai",12607
+CAOPEN: 0,0

OK
[233802ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +CAOPEN=0,0,"TCP","d04.elathia.ai",12607
[233802ms] â„¹ï¸  INFO: âœ… Socket TCP abierto exitosamente
[233902ms] ğŸ” DEBUG: ğŸ“¤ Enviando 88 bytes por TCP
[233942ms] ğŸ” DEBUG: âœ… Datos TCP enviados exitosamente
[233942ms] â„¹ï¸  INFO: âœ… Enviado: kwXLrmEe5sTdYrBMqL+nvRea5U27oo827a5QyMo8pUjAzafGLp...
[233956ms] ğŸ” DEBUG: ğŸ”Œ Cerrando conexiÃ³n TCP
[233956ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CACLOSE=0
[233957ms] ğŸ” DEBUG: â±ï¸  Usando timeout especificado: 10000ms
[233967ms] ğŸ” DEBUG: ğŸ§¹ Limpiados 11 bytes del buffer serial
AT+CACLOSE=0
OK
[243957ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +CACLOSE=0
[243957ms] ğŸ” DEBUG: âœ… ConexiÃ³n TCP cerrada
[243970ms] â„¹ï¸  INFO: ğŸ“Š Resumen de envÃ­o: 1 enviados, 0 fallidos
[243970ms] ğŸ” DEBUG: ğŸ”Œ Cerrando conexiÃ³n TCP
[243970ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CACLOSE=0
[243980ms] ğŸ” DEBUG: â±ï¸  Usando timeout especificado: 10000ms
AT+CACLOSE=0
ERROR
[253980ms] âš ï¸  WARN: âš ï¸  Comando AT fallÃ³: +CACLOSE=0 (esperaba: OK)
[253980ms] âš ï¸  WARN: âš ï¸  Fallo cerrando conexiÃ³n TCP
[253996ms] â„¹ï¸  INFO: âœ… Todos los datos enviados exitosamente con TELCEL
[253996ms] â„¹ï¸  INFO: ğŸ§¹ Limpiando buffer de datos enviados
[254017ms] â„¹ï¸  INFO: âœ… Buffer limpio. Datos pendientes: 0 lÃ­neas
[254017ms] â„¹ï¸  INFO: âœ… ConexiÃ³n y envÃ­o exitoso con TELCEL
[254028ms] â„¹ï¸  INFO: âœ… ConexiÃ³n LTE y envÃ­o de datos completado exitosamente
[254028ms] ğŸ” DEBUG: ğŸ”Œ Pulsando pin PWRKEY del mÃ³dem
[256238ms] ğŸ” DEBUG: âœ… Pulsado PWRKEY completado
[256238ms] â„¹ï¸  INFO: ğŸ ConfiguraciÃ³n del mÃ³dem completada
âœ… ConfiguraciÃ³n del mÃ³dem completada
ğŸ’¤ Preparando sistema para modo deep sleep...
â±ï¸  ESTADÃSTICAS DE TIEMPO DE FUNCIONAMIENTO:
=============================================
   Tiempo total: 256243 ms
   DuraciÃ³n: 4 minutos y 16 segundos
   CronÃ³metro estado: DETENIDO
ğŸ“Š ESTADÃSTICAS FINALES DEL SISTEMA:
=== ESTADÃSTICAS DEL SISTEMA ===
MÃ³dem inicializado: SÃ­
GPS habilitado: No
Calidad de seÃ±al: 10
Fallos consecutivos: 0
Timeout adaptativo actual: 10000ms

âœ… Sistema preparado para deep sleep
ğŸŒ™ Entrando en modo deep sleep...
â° PrÃ³ximo despertar en 600 segundos
Setup ESP32 to sleep for every 600 seconds
Going to sleep now
ESP-ROM:esp32s3-20210327
Build:Mar 27 2021
rst:0x1 (POWERON),boot:0xa (SPI_FAST_FLASH_BOOT)
SPIWP:0xee
mode:DIO, clock div:1
load:0x3fce2820,len:0x1188
load:0x403c8700,len:0x4
load:0x403c8704,len:0xbf0
load:0x403cb700,len:0x30e4
entry 0x403c88ac
ğŸ·ï¸ğŸ› ï¸ INF: Set output messages to log file
INF: Current RTC: 1764093066
ğŸ› ï¸-Chip ID: 4c12c97bacc
ESP-ROM:esp32s3-20210327
Build:Mar 27 2021
rst:0x1 (POWERON),boot:0x8 (SPI_FAST_FLASH_BOOT)
SPIWP:0xee
mode:DIO, clock div:1
load:0x3fce2820,len:0x1188
load:0x403c8700,len:0x4
load:0x403c8704,len:0xbf0
load:0x403cb700,len:0x30e4
entry 0x403c88ac
âœ…ğŸ’¾ INF: LittleFS Mounted Successfully
ğŸ“ŠğŸ’¾ INF: Total: 1408.00 KB, Used: 24.00 KB, Free: 1384.00 KB
ğŸ·ï¸ğŸ› ï¸ INF: STARTING.... Wakeup reason: 0
ğŸ·ï¸ğŸ› ï¸ Intelagro Firmware: v2.2.1
ğŸ·ï¸â° Local Time: 11:53
âœ…ğŸŒ WiFi AP started. Connect to SSID: AgroLogger
âœ…ğŸŒ HTTP server started. Browse to http://192.168.4.1
âœ…ğŸ’¾ INF: Successfully Data loaded from flash.
ğŸ·ï¸ğŸ› ï¸ Chip ID: 4c12c97bacc
âœ…ğŸŒ± INF: Starting soil sensor calibration (max 12 reads)...
ğŸ·ï¸ğŸ“ INF: Attempting to start LTE (attempt 1)...
ğŸ·ï¸ğŸ“ ======== START LTE ========
âœ…ğŸ“ INF: Modem responding to AT commands.
âœ…ğŸ“ INF: SIM card ready.
ğŸ·ï¸ğŸ“ INF: SIM CCID: 89883030000096466658
ğŸ·ï¸ğŸ“ INF: Configuring modem for LTE (Mode: 38, Cat: 1)...
ğŸ·ï¸ğŸ“ INF: Setting APN: em
ğŸ·ï¸ğŸ“ INF: Waiting for network registration...
ğŸ·ï¸ğŸ“¶ INF: Current RSSI: 10 dBm (attempt 0/600)
âœ…ğŸ“ INF: LTE registered (roaming).
âœ…ğŸ“ INF: Network registered! Final RSSI: 10 dBm
ğŸ·ï¸ğŸ“ INF: Registration took 0 seconds.
ğŸ·ï¸ğŸ“¡ INF: Activating PDP context...
âœ…ğŸ“¡ INF: PDP context activated successfully.
âœ…ğŸ“ INF: LTE connection established after 0 failures.
âœ…ğŸŒ± INF: Calibration reading: 1/12
ğŸ·ï¸ğŸŒ INF: Opening TCP connection to d02.elathia.ai:11234...
âœ…ğŸŒ INF: TCP connection opened successfully.
âš ï¸ğŸŒ WAR: Attempt 1 failed. Retrying...
âŒğŸŒ ERR: Failed to send data after 1 attempts.
âŒğŸŒ ERR: Failed to send line: 
ğŸ·ï¸ğŸŒ INF: Closing TCP connection...
âœ…ğŸŒ INF: TCP connection closed.
ESP-ROM:esp32s3-20210327
Build:Mar 27 2021
rst:0x1 (POWERON),boot:0xa (SPI_FAST_FLASH_BOOT)
SPIWP:0xee
mode:DIO, clock div:1
load:0x3fce2820,len:0x1188
load:0x403c8700,len:0x4
load:0x403c8704,len:0xbf0
load:0x403cb700,len:0x30e4
entry 0x403c88ac
âœ…ğŸ’¾ INF: LittleFS Mounted Successfully
ğŸ“ŠğŸ’¾ INF: Total: 1408.00 KB, Used: 24.00 KB, Free: 1384.00 KB
ğŸ·ï¸ğŸ› ï¸ INF: STARTING.... Wakeup reason: 0
ğŸ·ï¸ğŸ› ï¸ Intelagro Firmware: v2.2.1
ğŸ·ï¸â° Local Time: 11:54
âœ…ğŸŒ WiFi AP started. Connect to SSID: AgroLogger
âœ…ğŸŒ HTTP server started. Browse to http://192.168.4.1
âœ…ğŸ’¾ INF: Successfully Data loaded from flash.
ğŸ·ï¸ğŸ› ï¸ Chip ID: 4c12c97bacc
âœ…ğŸŒ± INF: Starting soil sensor calibration (max 12 reads)...
ğŸ·ï¸ğŸ“ INF: Attempting to start LTE (attempt 1)...
ğŸ·ï¸ğŸ“ ======== START LTE ========
âœ…ğŸ“ INF: Modem responding to AT commands.
âœ…ğŸ“ INF: SIM card ready.
ğŸ·ï¸ğŸ“ INF: SIM CCID: 89883030000096466658
ğŸ·ï¸ğŸ“ INF: Configuring modem for LTE (Mode: 38, Cat: 1)...
ğŸ·ï¸ğŸ“ INF: Setting APN: em
ğŸ·ï¸ğŸ“ INF: Waiting for network registration...
ğŸ·ï¸ğŸ“¶ INF: Current RSSI: 10 dBm (attempt 0/600)
âœ…ğŸ“ INF: LTE registered (roaming).
âœ…ğŸ“ INF: Network registered! Final RSSI: 10 dBm
ğŸ·ï¸ğŸ“ INF: Registration took 0 seconds.
ğŸ·ï¸ğŸ“¡ INF: Activating PDP context...
âš ï¸ğŸ“¡ WAR: PDP activation failed on first try, response: AT+CNACT=0,1
ERROR

âŒğŸ“¡ ERR: PDP activation failed after retry. Response: AT+CNACT=0,1
ERROR

âš ï¸ğŸ“ WAR: LTE connection failed (1 total failures), retrying in 10 seconds...
ğŸ·ï¸ğŸ“ INF: Attempting to start LTE (attempt 2)...
ğŸ·ï¸ğŸ“ ======== START LTE ========
âœ…ğŸ“ INF: Modem responding to AT commands.
âœ…ğŸ“ INF: SIM card ready.
ğŸ·ï¸ğŸ“ INF: SIM CCID: 89883030000096466658
ğŸ·ï¸ğŸ“ INF: Configuring modem for LTE (Mode: 38, Cat: 1)...
ğŸ·ï¸ğŸ“ INF: Setting APN: em
ğŸ·ï¸ğŸ“ INF: Waiting for network registration...
ğŸ·ï¸ğŸ“¶ INF: Current RSSI: 10 dBm (attempt 0/600)
âœ…ğŸ“ INF: LTE registered (roaming).
âœ…ğŸ“ INF: Network registered! Final RSSI: 10 dBm
ğŸ·ï¸ğŸ“ INF: Registration took 0 seconds.
ğŸ·ï¸ğŸ“¡ INF: Activating PDP context...
âš ï¸ğŸ“¡ WAR: PDP activation failed on first try, response: AT+CNACT=0,1
ERROR

âŒğŸ“¡ ERR: PDP activation failed after retry. Response: AT+CNACT=0,1
ERROR

âš ï¸ğŸ“ WAR: LTE connection failed (2 total failures), retrying in 10 seconds...
ğŸ·ï¸ğŸ“ INF: Attempting to start LTE (attempt 3)...
ğŸ·ï¸ğŸ“ ======== START LTE ========
âœ…ğŸ“ INF: Modem responding to AT commands.
âœ…ğŸ“ INF: SIM card ready.
ğŸ·ï¸ğŸ“ INF: SIM CCID: 89883030000096466658
ğŸ·ï¸ğŸ“ INF: Configuring modem for LTE (Mode: 38, Cat: 1)...
ğŸ·ï¸ğŸ“ INF: Setting APN: em
ğŸ·ï¸ğŸ“ INF: Waiting for network registration...
ğŸ·ï¸ğŸ“¶ INF: Current RSSI: 10 dBm (attempt 0/600)
âœ…ğŸ“ INF: LTE registered (roaming).
âœ…ğŸ“ INF: Network registered! Final RSSI: 10 dBm
ğŸ·ï¸ğŸ“ INF: Registration took 0 seconds.
ğŸ·ï¸ğŸ“¡ INF: Activating PDP context...
âš ï¸ğŸ“¡ WAR: PDP activation failed on first try, response: AT+CNACT=0,1
ERROR

âŒğŸ“¡ ERR: PDP activation failed after retry. Response: AT+CNACT=0,1
ERROR

âš ï¸ğŸ“ WAR: LTE connection failed (3 total failures), retrying in 10 seconds...
ğŸ·ï¸ğŸ“ INF: Attempting to start LTE (attempt 4)...
ğŸ·ï¸ğŸ“ INF: Performing modem reset after 3 failures...
ğŸ·ï¸ğŸ“ INF: Performing full modem reset...
ğŸ·ï¸ğŸ“ INF: Restarting modem...
âœ…ğŸ“ INF: Modem full reset successful.
ğŸ·ï¸ğŸ“ ======== START LTE ========
âœ…ğŸ“ INF: Modem responding to AT commands.
âœ…ğŸ“ INF: SIM card ready.
ğŸ·ï¸ğŸ“ INF: SIM CCID: 89883030000096466658
ğŸ·ï¸ğŸ“ INF: Configuring modem for LTE (Mode: 38, Cat: 1)...
ğŸ·ï¸ğŸ“ INF: Setting APN: em
ğŸ·ï¸ğŸ“ INF: Waiting for network registration...
ğŸ·ï¸ğŸ“¶ INF: Current RSSI: 10 dBm (attempt 0/600)
âœ…ğŸ“ INF: LTE registered (roaming).
âœ…ğŸ“ INF: Network registered! Final RSSI: 10 dBm
ğŸ·ï¸ğŸ“ INF: Registration took 0 seconds.
ğŸ·ï¸ğŸ“¡ INF: Activating PDP context...
âš ï¸ğŸ“¡ WAR: PDP activation failed on first try, response: AT+CNACT=0,1
OK

+APP PDP: 0,DEACTIVE

âœ…ğŸ“¡ INF: PDP context activated successfully.
âœ…ğŸ“ INF: LTE connection established after 3 failures.
âœ…ğŸŒ± INF: Calibration reading: 1/12
ğŸ·ï¸ğŸŒ INF: Opening TCP connection to d02.elathia.ai:11234...
âŒğŸŒ ERR: Failed to open TCP connection. Response: AT+CAOPEN=0,0,"TCP","d02.elathia.ai",11234
+CAOPEN: 0,1

OK

ğŸ·ï¸ğŸ“¡ INF: PDP context status: AT+CNACT?
+CNACT: 0,0,"0.0.0.0"
+CNACT: 1,0,"0.0.0.0"
+CNACT: 2,0,"0.0.0.0"
+CNACT: 3,0,"0.0.0.0"

OK
âŒğŸ“¡ ERR: PDP context not active. Network connection may be lost.
âŒğŸŒ ERR: TCP connection failed during calibration.
ESP-ROM:esp32s3-20210327
Build:Mar 27 2021
rst:0x1 (POWERON),boot:0x8 (SPI_FAST_FLASH_BOOT)
SPIWP:0xee
mode:DIO, clock div:1
load:0x3fce2820,len:0x1188
load:0x403c8700,len:0x4
load:0x403c8704,len:0xbf0
load:0x403cb700,len:0x30e4
entry 0x403c88ac
ğŸ” Verificando estado del sistema...
ğŸ›¡ï¸  Inicializando Watchdog Timer...
âœ… Watchdog configurado: timeout=120s
ğŸš€ SISTEMA DE MONITOREO AMBIENTAL ELATHIA
==========================================
Iniciando sistema...
ğŸ”– Firmware activo: v4.1.1-JAMR4-TIMEOUT
ğŸ§© FIX ACTIVO: FIX-7 Perfil LTE persistente (multi-operador)
â±ï¸  CronÃ³metro iniciado - midiendo tiempo de funcionamiento
ğŸ›°ï¸  CONFIGURACIÃ“N DE GPS:
   GPS SIM (mÃ³dem): âœ… HABILITADO
[3045ms] â„¹ï¸  TIME_INFO: ğŸ• Iniciando configuraciÃ³n del sistema de tiempo
[3045ms] ğŸ” TIME_DEBUG: âš¡ EnergÃ­a activada para RTC
[5055ms] ğŸ” TIME_DEBUG: ğŸ”„ RTC - Intento de inicializaciÃ³n 1 de 3
[5055ms] â„¹ï¸  TIME_INFO: âœ… RTC inicializado exitosamente en intento 1
[5166ms] ğŸ” TIME_DEBUG: ğŸ”‹ RTC - BaterÃ­a en buen estado
[5166ms] ğŸ” TIME_DEBUG: ğŸ”„ RTC - Intento de lectura 1 de 3
[5168ms] â„¹ï¸  TIME_INFO: âœ… Tiempo leÃ­do exitosamente en intento 1
[5178ms] â„¹ï¸  TIME_INFO: ğŸ“… Fecha y hora configuradas:
[5178ms] â„¹ï¸  TIME_INFO:    2025/11/25 18:0:46
[5188ms] â„¹ï¸  TIME_INFO: ğŸ“Š Estado del RTC:
[5188ms] â„¹ï¸  TIME_INFO:    Inicializado: âœ… SI
[5199ms] â„¹ï¸  TIME_INFO:    BaterÃ­a: âœ… OK
[5199ms] â„¹ï¸  TIME_INFO:    Errores de init: 0
[5209ms] â„¹ï¸  TIME_INFO:    Errores de lectura: 0
[5209ms] â„¹ï¸  TIME_INFO: âœ… Sistema de tiempo configurado exitosamente
âœ… Sistema de tiempo configurado
ğŸ›°ï¸  Configurando GPS del mÃ³dem SIM...
[5220ms] â„¹ï¸  INFO: ğŸ›°ï¸  Configurando GPS integrado del mÃ³dem
[5230ms] â„¹ï¸  INFO: ğŸ›°ï¸  Iniciando mÃ³dulo GPS integrado
[5341ms] â„¹ï¸  INFO: âœ… MÃ³dem iniciado correctamente
[9736ms] â„¹ï¸  INFO: âœ… GPS habilitado correctamente
[9736ms] â„¹ï¸  INFO: ğŸ›°ï¸  Obteniendo coordenadas GPS del mÃ³dem SIM...
[20989ms] â„¹ï¸  INFO: âœ… Coordenadas GPS obtenidas en 1 intentos
[20989ms] â„¹ï¸  INFO: âœ… Coordenadas GPS obtenidas y almacenadas
[20999ms] â„¹ï¸  INFO: ğŸ›°ï¸  Deteniendo mÃ³dulo GPS integrado
[26210ms] â„¹ï¸  INFO: âœ… GPS deshabilitado correctamente
[26210ms] â„¹ï¸  INFO: ğŸ”‹ GPS detenido para ahorrar energÃ­a
[26210ms] â„¹ï¸  INFO: ğŸ”Œ Apagando mÃ³dem para mÃ¡ximo ahorro de energÃ­a
[31220ms] â„¹ï¸  INFO: âœ… Funciones del mÃ³dem desactivadas
[36420ms] â„¹ï¸  INFO: ğŸ”‹ MÃ³dem apagado completamente - mÃ¡ximo ahorro de energÃ­a
âœ… GPS del mÃ³dem SIM configurado
ğŸŒ± Iniciando lectura de sensores...
----REQUEST 485 Sonda Seed
12,04,00,00,00,03,B2,A8, 
----RESPONSE 485 Sonda Seed
12,04,06,07,3F,10,00,01,69,69,6F,00, 
âœ… Sonda Seed - ComunicaciÃ³n exitosa (11 bytes)
âœ… Sonda Seed - Datos procesados correctamente
âœ… AHT20 - Lectura exitosa
Sensor AHT20
2986
4562
-----------
âœ… BaterÃ­a - Lectura exitosa
---------Bateria----------
370
-------------------
=== RESUMEN DE ESTADO ===
Sonda: âœ… OK
AHT: âœ… OK
BaterÃ­a: âœ… OK
========================
ğŸ“Š DATOS DE SENSORES LEÃDOS:
=============================
ğŸŒ± DATOS DE SUELO:
   Temperatura: 18.6Â°C
   Humedad: 41.0%
   Conductividad: 361 Î¼S/cm
   pH: 0.00
ğŸŒ¡ï¸  DATOS AMBIENTALES:
   Temperatura: 29.9Â°C
   Humedad: 45.6%
ğŸ”‹ DATOS DEL SISTEMA:
   Voltaje baterÃ­a: 3.40V
   Calidad seÃ±al: 0 dBm
ğŸ›°ï¸  DATOS GPS:
   Latitud: 19.739359Â°
   Longitud: -103.515472Â°
   Altitud: 1514.4m
=============================
âœ… Lectura de sensores completada
ğŸ“¡ Iniciando configuraciÃ³n del mÃ³dem LTE/GSM...
[38845ms] â„¹ï¸  INFO: ğŸš€ Iniciando configuraciÃ³n del mÃ³dem LTE/GSM
[38855ms] â„¹ï¸  INFO: ğŸ“± Iniciando comunicaciÃ³n GSM
[40116ms] ğŸ” DEBUG: ğŸ”„ Esperando respuesta del mÃ³dem...
[41356ms] ğŸ” DEBUG: ğŸ”„ Esperando respuesta del mÃ³dem...
[42596ms] ğŸ” DEBUG: ğŸ”„ Esperando respuesta del mÃ³dem...
[43836ms] ğŸ” DEBUG: ğŸ”„ Esperando respuesta del mÃ³dem...
[45076ms] ğŸ” DEBUG: ğŸ”„ Esperando respuesta del mÃ³dem...
[45076ms] ğŸ” DEBUG: ğŸ”Œ Pulsando pin PWRKEY del mÃ³dem
[49276ms] ğŸ” DEBUG: âœ… Pulsado PWRKEY completado
[49276ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CPIN?
[49276ms] ğŸ” DEBUG: â±ï¸  Usando timeout especificado: 15000ms
[64286ms] âš ï¸  WARN: âš ï¸  Comando AT fallÃ³: +CPIN? (esperaba: READY)
[64286ms] â„¹ï¸  INFO: ğŸ”„ Reintentando inicio del mÃ³dem
[64717ms] â„¹ï¸  INFO: âœ… ComunicaciÃ³n GSM establecida
[64717ms] â„¹ï¸  INFO: ğŸ“¡ Encendiendo RF del mÃ³dem
[64717ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CFUN=1
[64727ms] ğŸ” DEBUG: â±ï¸  Usando timeout especificado: 10000ms
AT+CFUN=1
OK
[74727ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +CFUN=1
[74727ms] â„¹ï¸  INFO: âœ… RF del mÃ³dem activada correctamente
[76727ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CFUN?
[76727ms] ğŸ” DEBUG: â±ï¸  Usando timeout especificado: 5000ms
AT+CFUN?
+CFUN: 1

OK
[81727ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +CFUN?
[81727ms] â„¹ï¸  INFO: âœ… RF verificada - mÃ³dem completamente funcional
[81727ms] â„¹ï¸  INFO: ğŸ“± Obteniendo informaciÃ³n de la tarjeta SIM
[89047ms] â„¹ï¸  INFO: ğŸ“± ICCID: 89883030000096466658
[89047ms] â„¹ï¸  INFO: ğŸ“¶ Calidad de seÃ±al: 11
[89047ms] âš ï¸  WARN: âš ï¸  SeÃ±al regular
[89057ms] â„¹ï¸  INFO: ğŸ’¾ Iniciando sistema de archivos LittleFS
[89057ms] ğŸ” DEBUG: ğŸ”„ Intentando montar LittleFS (intento 1 de 5)
[89071ms] â„¹ï¸  INFO: âœ… LittleFS montado correctamente
[89092ms] â„¹ï¸  INFO: ğŸ’¾ Espacio total: 1441792 bytes
[89092ms] â„¹ï¸  INFO: ğŸ’¾ Espacio usado: 24576 bytes
[89092ms] â„¹ï¸  INFO: ğŸ’¾ Espacio libre: 1417216 bytes
[89104ms] ğŸ” DEBUG: [FIX-7] Archivo de perfil LTE no existe, usando orden por defecto
[89104ms] â„¹ï¸  INFO: ğŸ“¦ Preparando datos para envÃ­o
ğŸ“± ICCID: 89883030000096466658
ğŸ“¶ Calidad de seÃ±al: 11
[89115ms] ğŸ” DEBUG: ğŸ”„ Convirtiendo ICCID a formato hexadecimal
------ICCID hex------
0x38 0x39 0x38 0x38 0x33 0x30 0x33 0x30 0x30 0x30 0x30 0x30 0x39 0x36 0x34 0x36 0x36 0x36 0x35 0x38 
„ Preparando datos de sensores
[89136ms] ğŸ” DEBUG: ğŸ”„ Preparando datos de sensores
sizeof(sensordata_type) = 43
STRUCT_SIZE usado = 46
âš ï¸  ADVERTENCIA: sizeof discrepancia - usando 46 bytes fijos
------Sensor data hex------
0x07 0x3F 0x10 0x00 0x01 0x69 0x00 0x00 0x11 0xD2 0x0B 0xAA 0x01 0x72 0x07 0xE9 0x0B 0x19 0x12 0x00 0x2E 0x0B 0x35 0xEA 0x9D 0x41 0xEC 0x07 0xCF 0xC2 0x8B 0x4C 0xBD 0x44 0x05 0x01 0x00 0x01 0x00 0x97 0x04 0x01 0x01 0x00 0x00 0x00 
TamaÃ±o estructura: 46
[89179ms] ğŸ” DEBUG: ğŸ”„ Construyendo cadena de envÃ­o
------Cadena envÃ­o hex------
0x38 0x39 0x38 0x38 0x33 0x30 0x33 0x30 0x30 0x30 0x30 0x30 0x39 0x36 0x34 0x36 0x36 0x36 0x35 0x38 0x07 0x3F 0x10 0x00 0x01 0x69 0x00 0x00 0x11 0xD2 0x0B 0xAA 0x01 0x72 0x07 0xE9 0x0B 0x19 0x12 0x00 0x2E 0x0B 0x35 0xEA 0x9D 0x41 0xEC 0x07 0xCF 0xC2 0x8B 0x4C 0xBD 0x44 0x05 0x01 0x00 0x01 0x00 0x97 0x04 0x01 0x01 0x00 0x00 0x00 0xFB 0x00 
: 
[89213ms] â„¹ï¸  INFO: ğŸ” Encriptando datos con AES
ğŸ” [CRYPTO] [encryptChar] [INFO] 89223ms: Iniciando encriptaciÃ³n de array de caracteres
ğŸ” [CRYPTO] [encryptChar] [INFO] 89234ms: EncriptaciÃ³n exitosa en 11ms
[89234ms] â„¹ï¸  INFO: âœ… Datos preparados: 108 bytes encriptados
[89244ms] â„¹ï¸  INFO: ğŸ“¦ Datos preparados y encriptados: 108 bytes
[89244ms] â„¹ï¸  INFO: ğŸ’¾ Guardando dato en buffer local
[89291ms] â„¹ï¸  INFO: âœ… Dato guardado en buffer. Total en buffer: 1 lÃ­neas
[89291ms] â„¹ï¸  INFO: [FIX-6] Presupuesto global de ciclo: 150000ms
[89302ms] â„¹ï¸  INFO: [FIX-4] Presupuesto LTE total: 120000ms
[89302ms] â„¹ï¸  INFO: [FIX-4] Perfil DEFAULT_CATM: presupuesto 90000ms
[89312ms] â„¹ï¸  INFO: ğŸŒ Iniciando conexiÃ³n LTE
[89312ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CNMP=38
[89323ms] ğŸ” DEBUG: â±ï¸  Usando timeout especificado: 6000ms
AT+CNMP=38
OK
[95323ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +CNMP=38
[95323ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CMNB=1
[95323ms] ğŸ” DEBUG: â±ï¸  Usando timeout especificado: 6000ms
AT+CMNB=1
OK
[101333ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +CMNB=1
[101333ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CBANDCFG="CAT-M",1,2,3,4,5,8,12,13,14,18,19,20,25,26,27,28,66,85
[101343ms] ğŸ” DEBUG: â±ï¸  Usando timeout especificado: 6000ms
AT+CBANDCFG="CAT-M",1,2,3,4,5,8,12,13,14,18,19,20,25,26,27,28,66,85
OK
[107343ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +CBANDCFG="CAT-M",1,2,3,4,5,8,12,13,14,18,19,20,25,26,27,28,66,85
[107343ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CBANDCFG="NB-IOT",2,3,5,8,20,28
[107353ms] ğŸ” DEBUG: â±ï¸  Usando timeout especificado: 6000ms
AT+CBANDCFG="NB-IOT",2,3,5,8,20,28
OK
[113363ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +CBANDCFG="NB-IOT",2,3,5,8,20,28
[113363ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CBANDCFG?
[113373ms] ğŸ” DEBUG: â±ï¸  Usando timeout especificado: 6000ms
AT+CBANDCFG?
+CBANDCFG: "CAT-M",1,2,3,4,5,8,12,13,14,18,19,20,25,26,27,28,66,85
+CBANDCFG: "NB-IOT",2,3,5,8,20,28

OK
[119373ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +CBANDCFG?
[122373ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CGDCONT=1,"IP","em"
[122373ms] ğŸ” DEBUG: â±ï¸  Usando timeout especificado: 6000ms
AT+CGDCONT=1,"IP","em"
OK
[128383ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +CGDCONT=1,"IP","em"
[128383ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CNACT=0,1
[128383ms] ğŸ” DEBUG: â±ï¸  Usando timeout especificado: 5000ms
AT+CNACT=0,1
OK

+APP PDP: 0,ACTIVE
[133393ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +CNACT=0,1
[133664ms] ğŸ” DEBUG: ğŸ“¶ Calidad de seÃ±al: 10
[133965ms] â„¹ï¸  INFO: [FIX-5] Validando PDP activo (presupuesto 20000ms)
[133965ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CNACT=0,1
[133975ms] ğŸ” DEBUG: â±ï¸  Usando timeout especificado: 5000ms
AT+CNACT=0,1
ERROR
[138975ms] âš ï¸  WARN: âš ï¸  Comando AT fallÃ³: +CNACT=0,1 (esperaba: OK)
AT+CNACT?
+CNACT: 0,1,"100.116.56.12"
+CNACT: 1,0,"0.0.0.0"
+CNACT: 2,0,"0.0.0.0"
+CNACT: 3,0,"0.0.0.0"

OK
[138994ms] ğŸ” DEBUG: [FIX-5] Respuesta +CNACT?: AT+CNACT?
+CNACT: 0,1,"100.116.56.12"
+CNACT: 1,0,"0.0.0.0"
+CNACT: 2,0,"0.0.0.0"
+CNACT: 3,0,"0.0.0.0"

OK

[139005ms] â„¹ï¸  INFO: [FIX-5] PDP activo detectado en contexto 0 (IP 100.116.56.12)
[139015ms] â„¹ï¸  INFO: âœ… Conectado a la red LTE con PDP activo
[139025ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CPSI?
[139025ms] ğŸ” DEBUG: â±ï¸  Usando timeout especificado: 6000ms
AT+CPSI?
+CPSI: LTE CAT-M1,Online,334-020,0x1436,36875779,386,EUTRAN-BAND4,2050,5,5,-17,-124,-93,9

OK
[145036ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +CPSI?
[145036ms] â„¹ï¸  INFO: [FIX-4] Resultado DEFAULT_CATM: OK, tiempo=55724ms
[145057ms] â„¹ï¸  INFO: [FIX-7] Perfil LTE persistente actualizado a id=0
[145057ms] â„¹ï¸  INFO: âœ… ConexiÃ³n LTE establecida, enviando datos
[145068ms] â„¹ï¸  INFO: ğŸ“¤ Iniciando envÃ­o de datos del buffer
[145073ms] â„¹ï¸  INFO: ğŸ”Œ Abriendo conexiÃ³n TCP con validaciÃ³n de estado
[145073ms] ğŸ” DEBUG: ğŸ” Verificando estado del socket TCP
[148095ms] âš ï¸  WARN: âš ï¸  Respuesta incompleta al consultar +CASTATE?, asumiendo socket inactivo
[148095ms] ğŸ” DEBUG: ğŸ” Socket TCP detectado como inactivo
[148105ms] â„¹ï¸  INFO: ğŸ”Œ Abriendo conexiÃ³n TCP a d01.elathia.ai:11235
[148105ms] ğŸ” DEBUG: ğŸ”„ Intento 1 de 5
[148116ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CAOPEN=0,0,"TCP","d01.elathia.ai",11235
[148126ms] ğŸ” DEBUG: â±ï¸  Usando timeout especificado: 6000ms
AT+CAOPEN=0,0,"TCP","d01.elathia.ai",11235[154126ms] âš ï¸  WARN: âš ï¸  Comando AT fallÃ³: +CAOPEN=0,0,"TCP","d01.elathia.ai",11235 (esperaba: +CAOPEN: 0,0)
[154126ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CACLOSE=0
[154136ms] ğŸ” DEBUG: â±ï¸  Usando timeout especificado: 5000ms

+CAOPEN: 0,0

OK
[159136ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +CACLOSE=0
[159136ms] ğŸ” DEBUG: ğŸ”„ Reintentando apertura de socket...
[160136ms] ğŸ” DEBUG: ğŸ”„ Intento 2 de 5
[160136ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CAOPEN=0,0,"TCP","d01.elathia.ai",11235
[160146ms] ğŸ” DEBUG: â±ï¸  Usando timeout especificado: 6000ms
AT+CAOPEN=0,0,"TCP","d01.elathia.ai",11235
ERROR
[166146ms] âš ï¸  WARN: âš ï¸  Comando AT fallÃ³: +CAOPEN=0,0,"TCP","d01.elathia.ai",11235 (esperaba: +CAOPEN: 0,0)
[166146ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CACLOSE=0
[166156ms] ğŸ” DEBUG: â±ï¸  Usando timeout especificado: 5000ms
AT+CACLOSE=0
OK
[171156ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +CACLOSE=0
[171156ms] ğŸ” DEBUG: ğŸ”„ Reintentando apertura de socket...
[172156ms] ğŸ” DEBUG: ğŸ”„ Intento 3 de 5
[172156ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CAOPEN=0,0,"TCP","d01.elathia.ai",11235
[172166ms] ğŸ” DEBUG: â±ï¸  Usando timeout especificado: 6000ms
AT+CAOPEN=0,0,"TCP","d01.elathia.ai",11235
+CAOPEN: 0,0

OK
[178166ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +CAOPEN=0,0,"TCP","d01.elathia.ai",11235
[178166ms] â„¹ï¸  INFO: âœ… Socket TCP abierto exitosamente
[178198ms] ğŸ” DEBUG: ğŸ“¤ Enviando 108 bytes por TCP
[178241ms] ğŸ” DEBUG: âœ… Datos TCP enviados exitosamente
[178241ms] â„¹ï¸  INFO: âœ… Enviado: kwXLrmEe5sTdYrBMqL+nvcS7xT3sZX49rI0fEQthVK1z1VZ2do...
[178256ms] ğŸ” DEBUG: ğŸ”Œ Cerrando conexiÃ³n TCP
[178257ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CACLOSE=0
[178257ms] ğŸ” DEBUG: â±ï¸  Usando timeout especificado: 6000ms
[178267ms] ğŸ” DEBUG: ğŸ§¹ Limpiados 11 bytes del buffer serial
AT+CACLOSE=0
OK
[184267ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +CACLOSE=0
[184267ms] ğŸ” DEBUG: âœ… ConexiÃ³n TCP cerrada
[184416ms] â„¹ï¸  INFO: ğŸ“Š Resumen de envÃ­o: 1 enviados, 0 fallidos
[184416ms] â„¹ï¸  INFO: ğŸ§¹ Limpiando buffer de datos enviados
[184437ms] â„¹ï¸  INFO: âœ… Buffer limpio. Datos pendientes: 0 lÃ­neas
[184437ms] ğŸ” DEBUG: ğŸ”Œ Pulsando pin PWRKEY del mÃ³dem
[188648ms] ğŸ” DEBUG: âœ… Pulsado PWRKEY completado
[188648ms] â„¹ï¸  INFO: ğŸ ConfiguraciÃ³n del mÃ³dem completada
âœ… ConfiguraciÃ³n del mÃ³dem completada
ğŸ’¤ Preparando sistema para modo deep sleep...
â±ï¸  ESTADÃSTICAS DE TIEMPO DE FUNCIONAMIENTO:
=============================================
   Tiempo total: 188646 ms
   DuraciÃ³n: 3 minutos y 8 segundos
   CronÃ³metro estado: DETENIDO
ğŸ“Š ESTADÃSTICAS FINALES DEL SISTEMA:
=== ESTADÃSTICAS DEL SISTEMA ===
MÃ³dem inicializado: SÃ­
GPS habilitado: No
Calidad de seÃ±al: 11
Fallos consecutivos: 0
Ãšltimo intento de conexiÃ³n: 0ms
Timeout adaptativo actual: 6000ms

âœ… Sistema preparado para deep sleep
ğŸŒ™ Entrando en modo deep sleep...
â° PrÃ³ximo despertar en 1200 segundos
Setup ESP32 to sleep for every 1200 seconds
Going to sleep now
ESP-ROM:esp32s3-20210327
Build:Mar 27 2021
rst:0x1 (POWERON),boot:0xa (SPI_FAST_FLASH_BOOT)
SPIWP:0xee
mode:DIO, clock div:1
load:0x3fce2820,len:0x1188
load:0x403c8700,len:0x4
load:0x403c8704,len:0xbf0
load:0x403cb700,len:0x30e4
entry 0x403c88ac
ğŸš€ SISTEMA DE MONITOREO AMBIENTAL ELATHIA
==========================================
Iniciando sistema...
â±ï¸  CronÃ³metro iniciado - midiendo tiempo de funcionamiento
ğŸ›°ï¸  CONFIGURACIÃ“N DE GPS:
   GPS SIM (mÃ³dem): âœ… HABILITADO
[1524ms] â„¹ï¸  TIME_INFO: ğŸ• Iniciando configuraciÃ³n del sistema de tiempo
[1524ms] ğŸ” TIME_DEBUG: âš¡ EnergÃ­a activada para RTC
[3534ms] ğŸ” TIME_DEBUG: ğŸ”„ RTC - Intento de inicializaciÃ³n 1 de 3
[3534ms] â„¹ï¸  TIME_INFO: âœ… RTC inicializado exitosamente en intento 1
[3645ms] ğŸ” TIME_DEBUG: ğŸ”‹ RTC - BaterÃ­a en buen estado
[3645ms] ğŸ” TIME_DEBUG: ğŸ”„ RTC - Intento de lectura 1 de 3
[3646ms] â„¹ï¸  TIME_INFO: âœ… Tiempo leÃ­do exitosamente en intento 1
[3657ms] â„¹ï¸  TIME_INFO: ğŸ“… Fecha y hora configuradas:
[3657ms] â„¹ï¸  TIME_INFO:    2025/11/25 18:14:29
[3667ms] â„¹ï¸  TIME_INFO: ğŸ“Š Estado del RTC:
[3667ms] â„¹ï¸  TIME_INFO:    Inicializado: âœ… SI
[3678ms] â„¹ï¸  TIME_INFO:    BaterÃ­a: âœ… OK
[3678ms] â„¹ï¸  TIME_INFO:    Errores de init: 0
[3688ms] â„¹ï¸  TIME_INFO:    Errores de lectura: 0
[3688ms] â„¹ï¸  TIME_INFO: âœ… Sistema de tiempo configurado exitosamente
âœ… Sistema de tiempo configurado
ğŸ›°ï¸  Configurando GPS del mÃ³dem SIM...
[3699ms] â„¹ï¸  INFO: ğŸ›°ï¸  Configurando GPS integrado del mÃ³dem
[3709ms] â„¹ï¸  INFO: ğŸ›°ï¸  Iniciando mÃ³dulo GPS integrado
[3790ms] â„¹ï¸  INFO: âœ… MÃ³dem iniciado correctamente
[5405ms] â„¹ï¸  INFO: âœ… GPS habilitado correctamente
[5405ms] â„¹ï¸  INFO: ğŸ›°ï¸  Obteniendo coordenadas GPS del mÃ³dem SIM...
[16048ms] â„¹ï¸  INFO: âœ… Coordenadas GPS obtenidas en 1 intentos
[16048ms] â„¹ï¸  INFO: âœ… Coordenadas GPS obtenidas y almacenadas
[16058ms] â„¹ï¸  INFO: ğŸ›°ï¸  Deteniendo mÃ³dulo GPS integrado
[21139ms] â„¹ï¸  INFO: âœ… GPS deshabilitado correctamente
[21139ms] â„¹ï¸  INFO: ğŸ”‹ GPS detenido para ahorrar energÃ­a
[21139ms] â„¹ï¸  INFO: ğŸ”Œ Apagando mÃ³dem para mÃ¡ximo ahorro de energÃ­a
[24149ms] â„¹ï¸  INFO: âœ… Funciones del mÃ³dem desactivadas
[26849ms] â„¹ï¸  INFO: ğŸ”‹ MÃ³dem apagado completamente - mÃ¡ximo ahorro de energÃ­a
âœ… GPS del mÃ³dem SIM configurado
ğŸŒ± Iniciando lectura de sensores...
----REQUEST 485 Sonda Seed
12,04,00,00,00,03,B2,A8, 
----RESPONSE 485 Sonda Seed
12,04,06,07,4A,0F,E9,01,68,F3,44,00, 
âœ… Sonda Seed - ComunicaciÃ³n exitosa (11 bytes)
âœ… Sonda Seed - Datos procesados correctamente
âœ… AHT20 - Lectura exitosa
Sensor AHT20
3187
3991
-----------
âœ… BaterÃ­a - Lectura exitosa
---------Bateria----------
369
-------------------
=== RESUMEN DE ESTADO ===
Sonda: âœ… OK
AHT: âœ… OK
BaterÃ­a: âœ… OK
========================
ğŸ“Š DATOS DE SENSORES LEÃDOS:
=============================
ğŸŒ± DATOS DE SUELO:
   Temperatura: 18.7Â°C
   Humedad: 40.7%
   Conductividad: 360 Î¼S/cm
   pH: 0.00
ğŸŒ¡ï¸  DATOS AMBIENTALES:
   Temperatura: 31.9Â°C
   Humedad: 39.9%
ğŸ”‹ DATOS DEL SISTEMA:
   Voltaje baterÃ­a: 3.39V
   Calidad seÃ±al: 0 dBm
ğŸ›°ï¸  DATOS GPS:
   Latitud: 19.739328Â°
   Longitud: -103.515472Â°
   Altitud: 1518.4m
=============================
âœ… Lectura de sensores completada
ğŸ“¡ Iniciando configuraciÃ³n del mÃ³dem LTE/GSM...
[29274ms] â„¹ï¸  INFO: ğŸš€ Iniciando configuraciÃ³n del mÃ³dem LTE/GSM
[29284ms] â„¹ï¸  INFO: ğŸ”§ ConfiguraciÃ³n del mÃ³dem inicializada
[29294ms] â„¹ï¸  INFO: ğŸ“± Iniciando comunicaciÃ³n GSM
[29935ms] ğŸ” DEBUG: ğŸ”„ Esperando respuesta del mÃ³dem...
[30555ms] ğŸ” DEBUG: ğŸ”„ Esperando respuesta del mÃ³dem...
[31175ms] ğŸ” DEBUG: ğŸ”„ Esperando respuesta del mÃ³dem...
[31795ms] ğŸ” DEBUG: ğŸ”„ Esperando respuesta del mÃ³dem...
[31795ms] ğŸ” DEBUG: ğŸ”Œ Pulsando pin PWRKEY del mÃ³dem
[33995ms] ğŸ” DEBUG: âœ… Pulsado PWRKEY completado
[33995ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CPIN?
[33995ms] ğŸ” DEBUG: â±ï¸  Usando timeout especificado: 8000ms
[41995ms] âš ï¸  WARN: âš ï¸  Comando AT fallÃ³: +CPIN? (esperaba: READY)
[41995ms] â„¹ï¸  INFO: ğŸ”„ Reintentando inicio del mÃ³dem
[42426ms] â„¹ï¸  INFO: âœ… ComunicaciÃ³n GSM establecida
[42426ms] â„¹ï¸  INFO: ğŸ“¡ Encendiendo RF del mÃ³dem
[42426ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CFUN=1
[42436ms] ğŸ” DEBUG: â±ï¸  Usando timeout especificado: 5000ms
AT+CFUN=1
OK
[47436ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +CFUN=1
[47436ms] â„¹ï¸  INFO: âœ… RF del mÃ³dem activada correctamente
[47936ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CFUN?
[47936ms] ğŸ” DEBUG: â±ï¸  Usando timeout especificado: 5000ms
AT+CFUN?
+CFUN: 1

OK
[52936ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +CFUN?
[52936ms] â„¹ï¸  INFO: âœ… RF verificada - mÃ³dem completamente funcional
[52936ms] â„¹ï¸  INFO: ğŸ“± Obteniendo informaciÃ³n de la tarjeta SIM
[53137ms] ğŸ” DEBUG: ğŸ“¡ Obteniendo calidad de seÃ±al con AT+CESQ
[58248ms] âš ï¸  WARN: âš ï¸  Timeout esperando respuesta OK de AT+CESQ
[58248ms] âš ï¸  WARN: âš ï¸  No se pudo obtener seÃ±al CESQ, usando valor 0
[58949ms] ğŸ” DEBUG: ğŸ“¡ Obteniendo calidad de seÃ±al con AT+CESQ
[64060ms] âš ï¸  WARN: âš ï¸  Timeout esperando respuesta OK de AT+CESQ
[64060ms] âš ï¸  WARN: âš ï¸  No se pudo obtener seÃ±al CESQ, usando valor 0
[64070ms] â„¹ï¸  INFO: ğŸ“± ICCID: 89883030000096466658
[64070ms] â„¹ï¸  INFO: ğŸ“¶ Calidad de seÃ±al (normalizada): 0
[64080ms] âŒ ERROR: âŒ SeÃ±al dÃ©bil - problemas de conectividad esperados
[64080ms] â„¹ï¸  INFO: ğŸ’¾ Iniciando sistema de archivos LittleFS
[64091ms] ğŸ” DEBUG: ğŸ”„ Intentando montar LittleFS (intento 1 de 3)
[64105ms] â„¹ï¸  INFO: âœ… LittleFS montado correctamente
[64129ms] â„¹ï¸  INFO: ğŸ’¾ Espacio total: 1441792 bytes
[64129ms] â„¹ï¸  INFO: ğŸ’¾ Espacio usado: 24576 bytes
[64129ms] â„¹ï¸  INFO: ğŸ’¾ Espacio libre: 1417216 bytes
[64139ms] â„¹ï¸  INFO: ğŸ“¦ Preparando datos para envÃ­o
ğŸ“± ICCID: 89883030000096466658
ğŸ“¶ Calidad de seÃ±al: 0
[64149ms] ğŸ” DEBUG: ğŸ”„ Convirtiendo ICCID a formato hexadecimal
------ICCID hex------
0x38 0x39 0x38 0x38 0x33 0x30 0x33 0x30 0x30 0x30 0x30 0x30 0x39 0x36 0x34 0x36 0x36 0x36 0x35 0x38 
„ Preparando datos de sensores
[64171ms] ğŸ” DEBUG: ğŸ”„ Preparando datos de sensores
------Sensor data hex------
0x07 0x4A 0x0F 0xE9 0x01 0x68 0x00 0x00 0x0F 0x97 0x0C 0x73 0x01 0x71 0x07 0xE9 0x0B 0x19 0x12 0x0E 0x1D 0x00 0x25 0xEA 0x9D 0x41 0xEC 0x07 0xCF 0xC2 0xA4 0xCC 0xBD 0x44 
endo cadena de envÃ­o
[64193ms] ğŸ” DEBUG: ğŸ”„ Construyendo cadena de envÃ­o
------Cadena envÃ­o hex------
0x38 0x39 0x38 0x38 0x33 0x30 0x33 0x30 0x30 0x30 0x30 0x30 0x39 0x36 0x34 0x36 0x36 0x36 0x35 0x38 0x07 0x4A 0x0F 0xE9 0x01 0x68 0x00 0x00 0x0F 0x97 0x0C 0x73 0x01 0x71 0x07 0xE9 0x0B 0x19 0x12 0x0E 0x1D 0x00 0x25 0xEA 0x9D 0x41 0xEC 0x07 0xCF 0xC2 0xA4 0xCC 0xBD 0x44 0x1F 0xAC 
s preparados: 
[64226ms] â„¹ï¸  INFO: ğŸ” Encriptando datos con AES
ğŸ” [CRYPTO] [encryptChar] [INFO] 64226ms: Iniciando encriptaciÃ³n de array de caracteres
ğŸ” [CRYPTO] [encryptChar] [INFO] 64237ms: EncriptaciÃ³n exitosa en 11ms
[64247ms] â„¹ï¸  INFO: âœ… Datos preparados: 88 bytes encriptados
[64247ms] â„¹ï¸  INFO: ğŸ“¦ Datos preparados y encriptados: 88 bytes
[64258ms] â„¹ï¸  INFO: ğŸ’¾ Guardando dato en buffer local
[64278ms] â„¹ï¸  INFO: âœ… Dato guardado en buffer. Total en buffer: 1 lÃ­neas
[64279ms] â„¹ï¸  INFO: ğŸŒ Iniciando conexiÃ³n LTE con estrategia secuencial por operador
[64289ms] ğŸ” DEBUG: âš¡ Enviando comando de configuraciÃ³n: +CNMP=38
AT+CNMP=38
OK
[64300ms] ğŸ” DEBUG: âš¡ Comando de configuraciÃ³n exitoso: +CNMP=38 (tiempo: 11ms)
[64300ms] ğŸ” DEBUG: âš¡ Enviando comando de configuraciÃ³n: +CMNB=1
AT+CMNB=1
OK
[64322ms] ğŸ” DEBUG: âš¡ Comando de configuraciÃ³n exitoso: +CMNB=1 (tiempo: 11ms)
[64322ms] ğŸ” DEBUG: âš¡ Enviando comando de configuraciÃ³n: +CBANDCFG="CAT-M",1,2,3,4,5,8,12,13,14,18,19,20,25,26,27,28,66,85
AT+CBANDCFG="CAT-M",1,2,3,4,5,8,12,13,14,18,19,20,25,26,27,28,66,85
OK
[64351ms] ğŸ” DEBUG: âš¡ Comando de configuraciÃ³n exitoso: +CBANDCFG="CAT-M",1,2,3,4,5,8,12,13,14,18,19,20,25,26,27,28,66,85 (tiempo: 18ms)
[64361ms] ğŸ” DEBUG: âš¡ Enviando comando de configuraciÃ³n: +CBANDCFG="NB-IOT"
AT+CBANDCFG="NB-IOT"
OK
[64385ms] ğŸ” DEBUG: âš¡ Comando de configuraciÃ³n exitoso: +CBANDCFG="NB-IOT" (tiempo: 13ms)
[64385ms] â„¹ï¸  INFO: ğŸ“‹ Obteniendo operadores disponibles en la zona (obligatorio)...
[64395ms] â„¹ï¸  INFO: ğŸ“‹ Obteniendo listado de operadores disponibles (COPS)...
[64405ms] â„¹ï¸  INFO: â³ Ejecutando AT+COPS=? (puede tardar 30-120 segundos)...
[64427ms] â„¹ï¸  INFO: â³ Buscando operadores... 0s
[64427ms] â„¹ï¸  INFO: â³ Buscando operadores... 0s
[64427ms] â„¹ï¸  INFO: â³ Buscando operadores... 0s
[64437ms] â„¹ï¸  INFO: â³ Buscando operadores... 0s
[64437ms] â„¹ï¸  INFO: â³ Buscando operadores... 0s
[64448ms] â„¹ï¸  INFO: â³ Buscando operadores... 0s
[64448ms] â„¹ï¸  INFO: â³ Buscando operadores... 0s
[64458ms] â„¹ï¸  INFO: â³ Buscando operadores... 0s
[64458ms] â„¹ï¸  INFO: â³ Buscando operadores... 0s
[64468ms] â„¹ï¸  INFO: â³ Buscando operadores... 0s
[130970ms] â„¹ï¸  INFO: âœ… Listado COPS obtenido exitosamente
[130970ms] ğŸ” DEBUG: ğŸ“„ Respuesta COPS completa:
[130970ms] ğŸ” DEBUG: AT+COPS=?
+COPS: (2,"TELCEL","TELCEL","334020",7),,(0,1,2,3,4),(0,1,2)

OK

[130981ms] ğŸ” DEBUG: ğŸ§¹ Array de operadores limpiado
[130991ms] â„¹ï¸  INFO: ğŸ“‹ PROCESANDO OPERADORES DISPONIBLES:
[130991ms] â„¹ï¸  INFO: â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[131001ms] â„¹ï¸  INFO: ğŸ¢ Operador 1:
[131012ms] â„¹ï¸  INFO:    ğŸ“› Nombre: TELCEL (TELCEL)
[131012ms] â„¹ï¸  INFO:    ğŸ”¢ CÃ³digo: 334020
[131022ms] â„¹ï¸  INFO:    ğŸ“¶ TecnologÃ­a: 4G LTE
[131022ms] â„¹ï¸  INFO:    ğŸ“Š Estado: ğŸ”´ Actual
[131033ms] ğŸ” DEBUG: â• Operador agregado: TELCEL (334020)
[131033ms] â„¹ï¸  INFO:    ğŸ“‹ Agregado al array dinÃ¡mico - NO DISPONIBLE (Ã­ndice: 0)
[131043ms] â„¹ï¸  INFO: 
[131043ms] â„¹ï¸  INFO: ğŸ¢ Operador 2:
[131043ms] â„¹ï¸  INFO:    ğŸ“› Nombre: 1 (2)
[131053ms] â„¹ï¸  INFO:    ğŸ”¢ CÃ³digo: 3
[131053ms] â„¹ï¸  INFO:    ğŸ“¶ TecnologÃ­a: 3G HSDPA
[131064ms] â„¹ï¸  INFO:    ğŸ“Š Estado: ğŸš« Desconocido
[131064ms] ğŸ” DEBUG: â• Operador agregado: 2 (3)
[131074ms] â„¹ï¸  INFO:    ğŸ“‹ Agregado al array dinÃ¡mico - NO DISPONIBLE (Ã­ndice: 1)
[131074ms] â„¹ï¸  INFO: 
[131084ms] â„¹ï¸  INFO: ğŸ“Š Total de operadores encontrados: 2
[131085ms] â„¹ï¸  INFO: ğŸ“Š Operadores agregados al array: 2
[131095ms] ğŸ” DEBUG: ğŸ“‹ Operador no disponible: TELCEL
[131095ms] ğŸ” DEBUG: ğŸ“‹ Operador no disponible: 2
[131105ms] â„¹ï¸  INFO: ğŸ”„ Operadores ordenados por prioridad: 2 operadores
[131105ms] â„¹ï¸  INFO: ğŸ“‹ ARRAY FINAL DE OPERADORES (ordenado por prioridad):
[131116ms] â„¹ï¸  INFO:    1. TELCEL (334020)
[131116ms] â„¹ï¸  INFO:    2. 2 (3)
[131126ms] â„¹ï¸  INFO: â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[131136ms] â„¹ï¸  INFO: ğŸ”„ Probando operadores secuencialmente con evaluaciÃ³n dinÃ¡mica
[131147ms] â„¹ï¸  INFO: ğŸ”„ Intentando operador 1 de 2: TELCEL (334020)
[131147ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CGDCONT=1,"IP",""em""
[131157ms] ğŸ” DEBUG: â±ï¸  Usando timeout especificado: 3000ms
AT+CGDCONT=1,"IP",""em""
OK
[134157ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +CGDCONT=1,"IP",""em""
[134157ms] ğŸ” DEBUG: âœ… APN pre-configurado para TELCEL
[134167ms] â„¹ï¸  INFO: ğŸ”„ Conectando con TELCEL (334020)...
[134167ms] ğŸ” DEBUG: ğŸ§¹ Limpiando contexto PDP residual...
[134291ms] ğŸ” DEBUG: â„¹ï¸  PDP ya estÃ¡ inactivo, no se requiere limpieza
[134291ms] ğŸ” DEBUG: âœ… Contexto PDP limpiado
[134291ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +COPS=1,2,"334020"
[134302ms] ğŸ” DEBUG: ğŸ”„ Usando timeout adaptativo: 12000ms
[134312ms] ğŸ” DEBUG: ğŸ§¹ Limpiados 2 bytes del buffer serial
AT+COPS=1,2,"334020"
OK
[146302ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +COPS=1,2,"334020"
[146302ms] â„¹ï¸  INFO: â³ Esperando registro en red (+CEREG: 1 o 5)...
[146423ms] â„¹ï¸  INFO: âœ… Registrado en red exitosamente
[146423ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CNACT=0,1
[146424ms] ğŸ” DEBUG: â±ï¸  Usando timeout especificado: 10000ms
[146434ms] ğŸ” DEBUG: ğŸ§¹ Limpiados 2 bytes del buffer serial
AT+CNACT=0,1
OK
[156424ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +CNACT=0,1
[158424ms] ğŸ” DEBUG: ğŸ” Verificando estado PDP...
[158537ms] âš ï¸  WARN: âš ï¸  PDP no activo o sin IP asignada
[158537ms] âš ï¸  WARN: âš ï¸  IP invÃ¡lida (vacÃ­a) para TELCEL
[158548ms] â„¹ï¸  INFO: ğŸ“Š Obteniendo informaciÃ³n CPSI para Fallo PDP/IP con TELCEL
[158548ms] ğŸ” DEBUG: ğŸ“¡ Obteniendo informaciÃ³n CPSI del mÃ³dem
[158558ms] ğŸ” DEBUG: ğŸ§¹ Limpiados 2 bytes del buffer serial
[158581ms] â„¹ï¸  INFO: ğŸ“¡ CPSI COMPLETO para Fallo PDP/IP con TELCEL:
[158581ms] â„¹ï¸  INFO:    AT+CPSI?
+CPSI: LTE CAT-M1,Online,334-020,0x1436,36875779,386,EUTRAN-BAND4,2050,5,5,-20,-127,-94,9

OK

[158591ms] ğŸ” DEBUG: ğŸ” Parseando respuesta CPSI: AT+CPSI?
+CPSI: LTE CAT-M1,Online,334-020,0x1436,36875779,386,EUTRAN-BAND4,2050,5,5,-20,-127,-94,9

OK

[158612ms] ğŸ” DEBUG: ğŸ“Š MÃ©tricas parseadas - RSRP: -20 dBm, RSRQ: -127 dB, RSSI: -94 dBm, SNR: 9 dB
[158612ms] â„¹ï¸  INFO: ğŸ“Š MÃ‰TRICAS DE SEÃ‘AL - Fallo PDP/IP con TELCEL:
[158622ms] â„¹ï¸  INFO:    ğŸ“¶ RSRP: -20 dBm
[158633ms] â„¹ï¸  INFO:    ğŸ“ˆ RSRQ: -127 dB
[158633ms] â„¹ï¸  INFO:    ğŸ“¡ RSSI: -94 dBm
[158633ms] â„¹ï¸  INFO:    ğŸ”Š SNR:  9 dB
[158643ms] â„¹ï¸  INFO:    ğŸ”— Estado: Conectado
[158643ms] ğŸ” DEBUG: ğŸ† PuntuaciÃ³n calculada para Fallo PDP/IP con TELCEL: 68
[158653ms] â„¹ï¸  INFO:    ğŸ† Score: 68
[158653ms] âš ï¸  WARN: âš ï¸  FallÃ³ conexiÃ³n/envÃ­o con TELCEL, probando siguiente operador
[158664ms] â„¹ï¸  INFO: ğŸ“´ Desregistrando de la red actual...
[158674ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +COPS=2
[158674ms] ğŸ” DEBUG: â±ï¸  Usando timeout especificado: 5000ms
AT+COPS=2
OK

+APP PDP: 0,DEACTIVE
[163674ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +COPS=2
[163674ms] ğŸ” DEBUG: â³ Esperando +CEREG: 0...
[168674ms] âš ï¸  WARN: âš ï¸  +CEREG: 0 no recibido, ejecutando reset rÃ¡pido (AT+CFUN=1,1)
[168674ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CFUN=1,1
[168684ms] ğŸ” DEBUG: â±ï¸  Usando timeout especificado: 10000ms
AT+CFUN=1,1
OK
[178684ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +CFUN=1,1
[181684ms] â„¹ï¸  INFO: âœ… Reset rÃ¡pido completado
[181684ms] ğŸ” DEBUG: ğŸ§¹ Limpiando contexto PDP residual...
[183795ms] ğŸ” DEBUG: â„¹ï¸  PDP ya estÃ¡ inactivo, no se requiere limpieza
[183795ms] ğŸ” DEBUG: âœ… Contexto PDP limpiado
[183795ms] â„¹ï¸  INFO: ğŸ”„ Intentando operador 2 de 2: 2 (3)
[183805ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CGDCONT=1,"IP",""em""
[183815ms] ğŸ” DEBUG: â±ï¸  Usando timeout especificado: 3000ms
[186815ms] âš ï¸  WARN: âš ï¸  Comando AT fallÃ³: +CGDCONT=1,"IP",""em"" (esperaba: OK)
[186815ms] âš ï¸  WARN: âš ï¸  Fallo configurando APN para 2, intentando siguiente
[186825ms] âš ï¸  WARN: âš ï¸  Todos los operadores fallaron, intentando modo automÃ¡tico
[186835ms] ğŸ” DEBUG: ğŸ§¹ Limpiando contexto PDP residual...
[188947ms] ğŸ” DEBUG: â„¹ï¸  PDP ya estÃ¡ inactivo, no se requiere limpieza
[188947ms] ğŸ” DEBUG: âœ… Contexto PDP limpiado
[188947ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CGDCONT=1,"IP",""em""
[188957ms] ğŸ” DEBUG: â±ï¸  Usando timeout especificado: 3000ms
[191957ms] âš ï¸  WARN: âš ï¸  Comando AT fallÃ³: +CGDCONT=1,"IP",""em"" (esperaba: OK)
[191957ms] âŒ ERROR: âŒ Fallo configurando APN en modo automÃ¡tico
[191967ms] âš ï¸  WARN: âš ï¸  Fallo en conexiÃ³n/envÃ­o LTE con todos los operadores (intento 2)
[191977ms] ğŸ” DEBUG: ğŸ”Œ Pulsando pin PWRKEY del mÃ³dem
[194178ms] ğŸ” DEBUG: âœ… Pulsado PWRKEY completado
[194178ms] â„¹ï¸  INFO: ğŸ ConfiguraciÃ³n del mÃ³dem completada
âœ… ConfiguraciÃ³n del mÃ³dem completada
ğŸ’¤ Preparando sistema para modo deep sleep...
â±ï¸  ESTADÃSTICAS DE TIEMPO DE FUNCIONAMIENTO:
=============================================
   Tiempo total: 194176 ms
   DuraciÃ³n: 3 minutos y 14 segundos
   CronÃ³metro estado: DETENIDO
ğŸ“Š ESTADÃSTICAS FINALES DEL SISTEMA:
=== ESTADÃSTICAS DEL SISTEMA ===
MÃ³dem inicializado: SÃ­
GPS habilitado: No
Calidad de seÃ±al: 0
Fallos consecutivos: 2
Timeout adaptativo actual: 14000ms

âœ… Sistema preparado para deep sleep
ğŸŒ™ Entrando en modo deep sleep...
â° PrÃ³ximo despertar en 600 segundos
Setup ESP32 to sleep for every 600 seconds
Going to sleep now
ESP-ROM:esp32s3-20210327
Build:Mar 27 2021
rst:0x1 (POWERON),boot:0x8 (SPI_FAST_FLASH_BOOT)
SPIWP:0xee
mode:DIO, clock div:1
load:0x3fce2820,len:0x1188
load:0x403c8700,len:0x4
load:0x403c8704,len:0xbf0
load:0x403cb700,len:0x30e4
entry 0x403c88ac
ğŸš€ SISTEMA DE MONITOREO AMBIENTAL ELATHIA
==========================================
Iniciando sistema...
â±ï¸  CronÃ³metro iniciado - midiendo tiempo de funcionamiento
ğŸ›°ï¸  CONFIGURACIÃ“N DE GPS:
   GPS SIM (mÃ³dem): âœ… HABILITADO
[1524ms] â„¹ï¸  TIME_INFO: ğŸ• Iniciando configuraciÃ³n del sistema de tiempo
[1524ms] ğŸ” TIME_DEBUG: âš¡ EnergÃ­a activada para RTC
[3534ms] ğŸ” TIME_DEBUG: ğŸ”„ RTC - Intento de inicializaciÃ³n 1 de 3
[3534ms] â„¹ï¸  TIME_INFO: âœ… RTC inicializado exitosamente en intento 1
[3645ms] ğŸ” TIME_DEBUG: ğŸ”‹ RTC - BaterÃ­a en buen estado
[3645ms] ğŸ” TIME_DEBUG: ğŸ”„ RTC - Intento de lectura 1 de 3
[3646ms] â„¹ï¸  TIME_INFO: âœ… Tiempo leÃ­do exitosamente en intento 1
[3657ms] â„¹ï¸  TIME_INFO: ğŸ“… Fecha y hora configuradas:
[3657ms] â„¹ï¸  TIME_INFO:    2025/11/25 18:18:7
[3667ms] â„¹ï¸  TIME_INFO: ğŸ“Š Estado del RTC:
[3667ms] â„¹ï¸  TIME_INFO:    Inicializado: âœ… SI
[3678ms] â„¹ï¸  TIME_INFO:    BaterÃ­a: âœ… OK
[3678ms] â„¹ï¸  TIME_INFO:    Errores de init: 0
[3688ms] â„¹ï¸  TIME_INFO:    Errores de lectura: 0
[3688ms] â„¹ï¸  TIME_INFO: âœ… Sistema de tiempo configurado exitosamente
âœ… Sistema de tiempo configurado
ğŸ›°ï¸  Configurando GPS del mÃ³dem SIM...
[3699ms] â„¹ï¸  INFO: ğŸ›°ï¸  Configurando GPS integrado del mÃ³dem
[3709ms] â„¹ï¸  INFO: ğŸ›°ï¸  Iniciando mÃ³dulo GPS integrado
[12110ms] â„¹ï¸  INFO: ğŸ”„ Reintentando inicio del mÃ³dem
[12960ms] â„¹ï¸  INFO: âœ… MÃ³dem iniciado correctamente
[26947ms] â„¹ï¸  INFO: âœ… GPS habilitado correctamente
[26947ms] â„¹ï¸  INFO: ğŸ›°ï¸  Obteniendo coordenadas GPS del mÃ³dem SIM...
[37700ms] â„¹ï¸  INFO: âœ… Coordenadas GPS obtenidas en 1 intentos
[37700ms] â„¹ï¸  INFO: âœ… Coordenadas GPS obtenidas y almacenadas
[37710ms] â„¹ï¸  INFO: ğŸ›°ï¸  Deteniendo mÃ³dulo GPS integrado
[42921ms] â„¹ï¸  INFO: âœ… GPS deshabilitado correctamente
[42921ms] â„¹ï¸  INFO: ğŸ”‹ GPS detenido para ahorrar energÃ­a
[42921ms] â„¹ï¸  INFO: ğŸ”Œ Apagando mÃ³dem para mÃ¡ximo ahorro de energÃ­a
[45931ms] â„¹ï¸  INFO: âœ… Funciones del mÃ³dem desactivadas
[48631ms] â„¹ï¸  INFO: ğŸ”‹ MÃ³dem apagado completamente - mÃ¡ximo ahorro de energÃ­a
âœ… GPS del mÃ³dem SIM configurado
ğŸŒ± Iniciando lectura de sensores...
----REQUEST 485 Sonda Seed
12,04,00,00,00,03,B2,A8, 
----RESPONSE 485 Sonda Seed
12,04,06,07,4C,0F,DE,01,68,CA,8A,00, 
âœ… Sonda Seed - ComunicaciÃ³n exitosa (11 bytes)
âœ… Sonda Seed - Datos procesados correctamente
âœ… AHT20 - Lectura exitosa
Sensor AHT20
3151
4097
-----------
âœ… BaterÃ­a - Lectura exitosa
---------Bateria----------
368
-------------------
=== RESUMEN DE ESTADO ===
Sonda: âœ… OK
AHT: âœ… OK
BaterÃ­a: âœ… OK
========================
ğŸ“Š DATOS DE SENSORES LEÃDOS:
=============================
ğŸŒ± DATOS DE SUELO:
   Temperatura: 18.7Â°C
   Humedad: 40.6%
   Conductividad: 360 Î¼S/cm
   pH: 0.00
ğŸŒ¡ï¸  DATOS AMBIENTALES:
   Temperatura: 31.5Â°C
   Humedad: 41.0%
ğŸ”‹ DATOS DEL SISTEMA:
   Voltaje baterÃ­a: 3.38V
   Calidad seÃ±al: 0 dBm
ğŸ›°ï¸  DATOS GPS:
   Latitud: 19.739374Â°
   Longitud: -103.515488Â°
   Altitud: 1517.1m
=============================
âœ… Lectura de sensores completada
ğŸ“¡ Iniciando configuraciÃ³n del mÃ³dem LTE/GSM...
[51056ms] â„¹ï¸  INFO: ğŸš€ Iniciando configuraciÃ³n del mÃ³dem LTE/GSM
[51066ms] â„¹ï¸  INFO: ğŸ”§ ConfiguraciÃ³n del mÃ³dem inicializada
[51076ms] â„¹ï¸  INFO: ğŸ“± Iniciando comunicaciÃ³n GSM
[51717ms] ğŸ” DEBUG: ğŸ”„ Esperando respuesta del mÃ³dem...
[52337ms] ğŸ” DEBUG: ğŸ”„ Esperando respuesta del mÃ³dem...
[52957ms] ğŸ” DEBUG: ğŸ”„ Esperando respuesta del mÃ³dem...
[53577ms] ğŸ” DEBUG: ğŸ”„ Esperando respuesta del mÃ³dem...
[53577ms] ğŸ” DEBUG: ğŸ”Œ Pulsando pin PWRKEY del mÃ³dem
[55777ms] ğŸ” DEBUG: âœ… Pulsado PWRKEY completado
[55777ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CPIN?
[55777ms] ğŸ” DEBUG: â±ï¸  Usando timeout especificado: 8000ms
[63777ms] âš ï¸  WARN: âš ï¸  Comando AT fallÃ³: +CPIN? (esperaba: READY)
[63777ms] â„¹ï¸  INFO: ğŸ”„ Reintentando inicio del mÃ³dem
[64208ms] â„¹ï¸  INFO: âœ… ComunicaciÃ³n GSM establecida
[64208ms] â„¹ï¸  INFO: ğŸ“¡ Encendiendo RF del mÃ³dem
[64208ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CFUN=1
[64218ms] ğŸ” DEBUG: â±ï¸  Usando timeout especificado: 5000ms
AT+CFUN=1
OK
[69218ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +CFUN=1
[69218ms] â„¹ï¸  INFO: âœ… RF del mÃ³dem activada correctamente
[69718ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CFUN?
[69718ms] ğŸ” DEBUG: â±ï¸  Usando timeout especificado: 5000ms
AT+CFUN?
+CFUN: 1

OK
[74718ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +CFUN?
[74718ms] â„¹ï¸  INFO: âœ… RF verificada - mÃ³dem completamente funcional
[74718ms] â„¹ï¸  INFO: ğŸ“± Obteniendo informaciÃ³n de la tarjeta SIM
[74919ms] ğŸ” DEBUG: ğŸ“¡ Obteniendo calidad de seÃ±al con AT+CESQ
[80030ms] âš ï¸  WARN: âš ï¸  Timeout esperando respuesta OK de AT+CESQ
[80030ms] âš ï¸  WARN: âš ï¸  No se pudo obtener seÃ±al CESQ, usando valor 0
[80731ms] ğŸ” DEBUG: ğŸ“¡ Obteniendo calidad de seÃ±al con AT+CESQ
[85842ms] âš ï¸  WARN: âš ï¸  Timeout esperando respuesta OK de AT+CESQ
[85842ms] âš ï¸  WARN: âš ï¸  No se pudo obtener seÃ±al CESQ, usando valor 0
[85852ms] â„¹ï¸  INFO: ğŸ“± ICCID: 89883030000096466658
[85852ms] â„¹ï¸  INFO: ğŸ“¶ Calidad de seÃ±al (normalizada): 0
[85862ms] âŒ ERROR: âŒ SeÃ±al dÃ©bil - problemas de conectividad esperados
[85862ms] â„¹ï¸  INFO: ğŸ’¾ Iniciando sistema de archivos LittleFS
[85873ms] ğŸ” DEBUG: ğŸ”„ Intentando montar LittleFS (intento 1 de 3)
[85887ms] â„¹ï¸  INFO: âœ… LittleFS montado correctamente
[85914ms] â„¹ï¸  INFO: ğŸ’¾ Espacio total: 1441792 bytes
[85914ms] â„¹ï¸  INFO: ğŸ’¾ Espacio usado: 24576 bytes
[85915ms] â„¹ï¸  INFO: ğŸ’¾ Espacio libre: 1417216 bytes
[85925ms] â„¹ï¸  INFO: ğŸ“¦ Preparando datos para envÃ­o
ğŸ“± ICCID: 89883030000096466658
ğŸ“¶ Calidad de seÃ±al: 0
[85935ms] ğŸ” DEBUG: ğŸ”„ Convirtiendo ICCID a formato hexadecimal
------ICCID hex------
0x38 0x39 0x38 0x38 0x33 0x30 0x33 0x30 0x30 0x30 0x30 0x30 0x39 0x36 0x34 0x36 0x36 0x36 0x35 0x38 
„ Preparando datos de sensores
[85957ms] ğŸ” DEBUG: ğŸ”„ Preparando datos de sensores
------Sensor data hex------
0x07 0x4C 0x0F 0xDE 0x01 0x68 0x00 0x00 0x10 0x01 0x0C 0x4F 0x01 0x70 0x07 0xE9 0x0B 0x19 0x12 0x12 0x07 0x00 0x3D 0xEA 0x9D 0x41 0xEE 0x07 0xCF 0xC2 0x8F 0xA2 0xBD 0x44 
endo cadena de envÃ­o
[85979ms] ğŸ” DEBUG: ğŸ”„ Construyendo cadena de envÃ­o
------Cadena envÃ­o hex------
0x38 0x39 0x38 0x38 0x33 0x30 0x33 0x30 0x30 0x30 0x30 0x30 0x39 0x36 0x34 0x36 0x36 0x36 0x35 0x38 0x07 0x4C 0x0F 0xDE 0x01 0x68 0x00 0x00 0x10 0x01 0x0C 0x4F 0x01 0x70 0x07 0xE9 0x0B 0x19 0x12 0x12 0x07 0x00 0x3D 0xEA 0x9D 0x41 0xEE 0x07 0xCF 0xC2 0x8F 0xA2 0xBD 0x44 0xEF 0xE0 
s preparados: 
[86012ms] â„¹ï¸  INFO: ğŸ” Encriptando datos con AES
ğŸ” [CRYPTO] [encryptChar] [INFO] 86012ms: Iniciando encriptaciÃ³n de array de caracteres
ğŸ” [CRYPTO] [encryptChar] [INFO] 86023ms: EncriptaciÃ³n exitosa en 11ms
[86033ms] â„¹ï¸  INFO: âœ… Datos preparados: 88 bytes encriptados
[86033ms] â„¹ï¸  INFO: ğŸ“¦ Datos preparados y encriptados: 88 bytes
[86044ms] â„¹ï¸  INFO: ğŸ’¾ Guardando dato en buffer local
[86072ms] â„¹ï¸  INFO: âœ… Dato guardado en buffer. Total en buffer: 2 lÃ­neas
[86072ms] â„¹ï¸  INFO: ğŸŒ Iniciando conexiÃ³n LTE con estrategia secuencial por operador
[86083ms] ğŸ” DEBUG: âš¡ Enviando comando de configuraciÃ³n: +CNMP=38
AT+CNMP=38
OK
[86094ms] ğŸ” DEBUG: âš¡ Comando de configuraciÃ³n exitoso: +CNMP=38 (tiempo: 11ms)
[86094ms] ğŸ” DEBUG: âš¡ Enviando comando de configuraciÃ³n: +CMNB=1
AT+CMNB=1
OK
[86116ms] ğŸ” DEBUG: âš¡ Comando de configuraciÃ³n exitoso: +CMNB=1 (tiempo: 11ms)
[86116ms] ğŸ” DEBUG: âš¡ Enviando comando de configuraciÃ³n: +CBANDCFG="CAT-M",1,2,3,4,5,8,12,13,14,18,19,20,25,26,27,28,66,85
AT+CBANDCFG="CAT-M",1,2,3,4,5,8,12,13,14,18,19,20,25,26,27,28,66,85
OK
[86145ms] ğŸ” DEBUG: âš¡ Comando de configuraciÃ³n exitoso: +CBANDCFG="CAT-M",1,2,3,4,5,8,12,13,14,18,19,20,25,26,27,28,66,85 (tiempo: 18ms)
[86155ms] ğŸ” DEBUG: âš¡ Enviando comando de configuraciÃ³n: +CBANDCFG="NB-IOT"
AT+CBANDCFG="NB-IOT"
OK
[86179ms] ğŸ” DEBUG: âš¡ Comando de configuraciÃ³n exitoso: +CBANDCFG="NB-IOT" (tiempo: 13ms)
[86179ms] â„¹ï¸  INFO: ğŸ“‹ Obteniendo operadores disponibles en la zona (obligatorio)...
[86189ms] â„¹ï¸  INFO: ğŸ“‹ Obteniendo listado de operadores disponibles (COPS)...
[86199ms] â„¹ï¸  INFO: â³ Ejecutando AT+COPS=? (puede tardar 30-120 segundos)...
[86221ms] â„¹ï¸  INFO: â³ Buscando operadores... 0s
[86221ms] â„¹ï¸  INFO: â³ Buscando operadores... 0s
[86221ms] â„¹ï¸  INFO: â³ Buscando operadores... 0s
[86231ms] â„¹ï¸  INFO: â³ Buscando operadores... 0s
[86231ms] â„¹ï¸  INFO: â³ Buscando operadores... 0s
[86242ms] â„¹ï¸  INFO: â³ Buscando operadores... 0s
[86242ms] â„¹ï¸  INFO: â³ Buscando operadores... 0s
[86252ms] â„¹ï¸  INFO: â³ Buscando operadores... 0s
[86252ms] â„¹ï¸  INFO: â³ Buscando operadores... 0s
[86262ms] â„¹ï¸  INFO: â³ Buscando operadores... 0s
[159364ms] â„¹ï¸  INFO: âœ… Listado COPS obtenido exitosamente
[159364ms] ğŸ” DEBUG: ğŸ“„ Respuesta COPS completa:
[159364ms] ğŸ” DEBUG: AT+COPS=?
+COPS: (2,"TELCEL","TELCEL","334020",7),,(0,1,2,3,4),(0,1,2)

OK

[159375ms] ğŸ” DEBUG: ğŸ§¹ Array de operadores limpiado
[159385ms] â„¹ï¸  INFO: ğŸ“‹ PROCESANDO OPERADORES DISPONIBLES:
[159385ms] â„¹ï¸  INFO: â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[159395ms] â„¹ï¸  INFO: ğŸ¢ Operador 1:
[159406ms] â„¹ï¸  INFO:    ğŸ“› Nombre: TELCEL (TELCEL)
[159406ms] â„¹ï¸  INFO:    ğŸ”¢ CÃ³digo: 334020
[159416ms] â„¹ï¸  INFO:    ğŸ“¶ TecnologÃ­a: 4G LTE
[159416ms] â„¹ï¸  INFO:    ğŸ“Š Estado: ğŸ”´ Actual
[159426ms] ğŸ” DEBUG: â• Operador agregado: TELCEL (334020)
[159427ms] â„¹ï¸  INFO:    ğŸ“‹ Agregado al array dinÃ¡mico - NO DISPONIBLE (Ã­ndice: 0)
[159437ms] â„¹ï¸  INFO: 
[159437ms] â„¹ï¸  INFO: ğŸ¢ Operador 2:
[159437ms] â„¹ï¸  INFO:    ğŸ“› Nombre: 1 (2)
[159447ms] â„¹ï¸  INFO:    ğŸ”¢ CÃ³digo: 3
[159447ms] â„¹ï¸  INFO:    ğŸ“¶ TecnologÃ­a: 3G HSDPA
[159458ms] â„¹ï¸  INFO:    ğŸ“Š Estado: ğŸš« Desconocido
[159458ms] ğŸ” DEBUG: â• Operador agregado: 2 (3)
[159468ms] â„¹ï¸  INFO:    ğŸ“‹ Agregado al array dinÃ¡mico - NO DISPONIBLE (Ã­ndice: 1)
[159468ms] â„¹ï¸  INFO: 
[159478ms] â„¹ï¸  INFO: ğŸ“Š Total de operadores encontrados: 2
[159479ms] â„¹ï¸  INFO: ğŸ“Š Operadores agregados al array: 2
[159489ms] ğŸ” DEBUG: ğŸ“‹ Operador no disponible: TELCEL
[159489ms] ğŸ” DEBUG: ğŸ“‹ Operador no disponible: 2
[159499ms] â„¹ï¸  INFO: ğŸ”„ Operadores ordenados por prioridad: 2 operadores
[159499ms] â„¹ï¸  INFO: ğŸ“‹ ARRAY FINAL DE OPERADORES (ordenado por prioridad):
[159510ms] â„¹ï¸  INFO:    1. TELCEL (334020)
[159510ms] â„¹ï¸  INFO:    2. 2 (3)
[159520ms] â„¹ï¸  INFO: â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[159530ms] â„¹ï¸  INFO: ğŸ”„ Probando operadores secuencialmente con evaluaciÃ³n dinÃ¡mica
[159541ms] â„¹ï¸  INFO: ğŸ”„ Intentando operador 1 de 2: TELCEL (334020)
[159541ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CGDCONT=1,"IP",""em""
[159551ms] ğŸ” DEBUG: â±ï¸  Usando timeout especificado: 3000ms
AT+CGDCONT=1,"IP",""em""
OK
[162551ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +CGDCONT=1,"IP",""em""
[162551ms] ğŸ” DEBUG: âœ… APN pre-configurado para TELCEL
[162561ms] â„¹ï¸  INFO: ğŸ”„ Conectando con TELCEL (334020)...
[162561ms] ğŸ” DEBUG: ğŸ§¹ Limpiando contexto PDP residual...
[162685ms] ğŸ” DEBUG: â„¹ï¸  PDP ya estÃ¡ inactivo, no se requiere limpieza
[162685ms] ğŸ” DEBUG: âœ… Contexto PDP limpiado
[162685ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +COPS=1,2,"334020"
[162696ms] ğŸ” DEBUG: ğŸ”„ Usando timeout adaptativo: 12000ms
[162706ms] ğŸ” DEBUG: ğŸ§¹ Limpiados 2 bytes del buffer serial
AT+COPS=1,2,"334020"
OK
[174696ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +COPS=1,2,"334020"
[174696ms] â„¹ï¸  INFO: â³ Esperando registro en red (+CEREG: 1 o 5)...
[174817ms] â„¹ï¸  INFO: âœ… Registrado en red exitosamente
[174817ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CNACT=0,1
[174818ms] ğŸ” DEBUG: â±ï¸  Usando timeout especificado: 10000ms
[174828ms] ğŸ” DEBUG: ğŸ§¹ Limpiados 2 bytes del buffer serial
AT+CNACT=0,1
OK

+APP PDP: 0,ACTIVE
[184818ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +CNACT=0,1
[186818ms] ğŸ” DEBUG: ğŸ” Verificando estado PDP...
[186931ms] â„¹ï¸  INFO: âœ… PDP activo con IP: 100.116.56.12
[186931ms] â„¹ï¸  INFO: âœ… Conectado exitosamente a TELCEL (IP: 100.116.56.12)
[186942ms] â„¹ï¸  INFO: ğŸ“Š Obteniendo informaciÃ³n CPSI para TELCEL
[186942ms] ğŸ” DEBUG: ğŸ“¡ Obteniendo informaciÃ³n CPSI del mÃ³dem
[186952ms] ğŸ” DEBUG: ğŸ§¹ Limpiados 2 bytes del buffer serial
[186975ms] â„¹ï¸  INFO: ğŸ“¡ CPSI COMPLETO para TELCEL:
[186975ms] â„¹ï¸  INFO:    AT+CPSI?
+CPSI: LTE CAT-M1,Online,334-020,0x1436,36875777,357,EUTRAN-BAND4,2050,5,5,-20,-127,-92,6

OK

[186985ms] ğŸ” DEBUG: ğŸ” Parseando respuesta CPSI: AT+CPSI?
+CPSI: LTE CAT-M1,Online,334-020,0x1436,36875777,357,EUTRAN-BAND4,2050,5,5,-20,-127,-92,6

OK

[186996ms] ğŸ” DEBUG: ğŸ“Š MÃ©tricas parseadas - RSRP: -20 dBm, RSRQ: -127 dB, RSSI: -92 dBm, SNR: 6 dB
[187006ms] â„¹ï¸  INFO: ğŸ“Š MÃ‰TRICAS DE SEÃ‘AL - TELCEL:
[187016ms] â„¹ï¸  INFO:    ğŸ“¶ RSRP: -20 dBm
[187016ms] â„¹ï¸  INFO:    ğŸ“ˆ RSRQ: -127 dB
[187027ms] â„¹ï¸  INFO:    ğŸ“¡ RSSI: -92 dBm
[187027ms] â„¹ï¸  INFO:    ğŸ”Š SNR:  6 dB
[187027ms] â„¹ï¸  INFO:    ğŸ”— Estado: Conectado
[187037ms] ğŸ” DEBUG: ğŸ† PuntuaciÃ³n calculada para TELCEL: 68
[187037ms] â„¹ï¸  INFO:    ğŸ† Score: 68
[187048ms] ğŸ” DEBUG: ğŸ“¡ Obteniendo calidad de seÃ±al con AT+CESQ
[192159ms] âš ï¸  WARN: âš ï¸  Timeout esperando respuesta OK de AT+CESQ
[192159ms] ğŸ” DEBUG: âš ï¸  No se pudo obtener CESQ con TELCEL
[192169ms] â„¹ï¸  INFO: ğŸ“¤ Intentando enviar datos con TELCEL
[192169ms] â„¹ï¸  INFO: ğŸ“¤ Iniciando envÃ­o de datos del buffer
[192184ms] ğŸ” DEBUG: ğŸ”Œ Cerrando conexiÃ³n TCP
[192184ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CACLOSE=0
[192184ms] ğŸ” DEBUG: â±ï¸  Usando timeout especificado: 12000ms
AT+CACLOSE=0
ERROR
[204184ms] âš ï¸  WARN: âš ï¸  Comando AT fallÃ³: +CACLOSE=0 (esperaba: OK)
[204184ms] âš ï¸  WARN: âš ï¸  Fallo cerrando conexiÃ³n TCP
[204494ms] â„¹ï¸  INFO: ğŸ”Œ Abriendo conexiÃ³n TCP a d04.elathia.ai:12607
[204494ms] ğŸ” DEBUG: ğŸ”„ Intento 1 de 3
[204494ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CAOPEN=0,0,"TCP","d04.elathia.ai",12607
[204504ms] ğŸ” DEBUG: â±ï¸  Usando timeout especificado: 12000ms
AT+CAOPEN=0,0,"TCP","d04.elathia.ai",12607
+CAOPEN: 0,0

OK
[216504ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +CAOPEN=0,0,"TCP","d04.elathia.ai",12607
[216504ms] â„¹ï¸  INFO: âœ… Socket TCP abierto exitosamente
[216535ms] ğŸ” DEBUG: ğŸ“¤ Enviando 88 bytes por TCP
[216576ms] ğŸ” DEBUG: âœ… Datos TCP enviados exitosamente
[216576ms] â„¹ï¸  INFO: âœ… Enviado: kwXLrmEe5sTdYrBMqL+nvXIh6eeitwJ7L94JJnsYzRtmPbk0ZF...
[216590ms] ğŸ” DEBUG: ğŸ“¤ Enviando 88 bytes por TCP
[216590ms] ğŸ” DEBUG: ğŸ§¹ Limpiados 11 bytes del buffer serial
[216631ms] ğŸ” DEBUG: âœ… Datos TCP enviados exitosamente
[216631ms] â„¹ï¸  INFO: âœ… Enviado: kwXLrmEe5sTdYrBMqL+nvdB/0Gqr98ofp4kexMgrxBUrotTcSF...
[216642ms] ğŸ” DEBUG: ğŸ”Œ Cerrando conexiÃ³n TCP
[216643ms] ğŸ” DEBUG: ğŸ“¤ Enviando comando AT: +CACLOSE=0
[216653ms] ğŸ” DEBUG: â±ï¸  Usando timeout especificado: 12000ms
[216653ms] ğŸ” DEBUG: ğŸ§¹ Limpiados 11 bytes del buffer serial
AT+CACLOSE=0
OK
[228653ms] ğŸ” DEBUG: âœ… Comando AT exitoso: +CACLOSE=0
[228653ms] ğŸ” DEBUG: âœ… ConexiÃ³n TCP cerrada
[228761ms] â„¹ï¸  INFO: ğŸ“Š Resumen de envÃ­o: 2 enviados, 0 fallidos
[228772ms] â„¹ï¸  INFO: âœ… Todos los datos enviados exitosamente con TELCEL
[228772ms] â„¹ï¸  INFO: ğŸ§¹ Limpiando buffer de datos enviados
[228796ms] â„¹ï¸  INFO: âœ… Buffer limpio. Datos pendientes: 0 lÃ­neas
[228796ms] â„¹ï¸  INFO: âœ… ConexiÃ³n y envÃ­o exitoso con TELCEL
[228807ms] â„¹ï¸  INFO: âœ… ConexiÃ³n LTE y envÃ­o de datos completado exitosamente
[228807ms] ğŸ” DEBUG: ğŸ”Œ Pulsando pin PWRKEY del mÃ³dem
[231017ms] ğŸ” DEBUG: âœ… Pulsado PWRKEY completado
[231017ms] â„¹ï¸  INFO: ğŸ ConfiguraciÃ³n del mÃ³dem completada
âœ… ConfiguraciÃ³n del mÃ³dem completada
ğŸ’¤ Preparando sistema para modo deep sleep...
â±ï¸  ESTADÃSTICAS DE TIEMPO DE FUNCIONAMIENTO:
=============================================
   Tiempo total: 231015 ms
   DuraciÃ³n: 3 minutos y 51 segundos
   CronÃ³metro estado: DETENIDO
ğŸ“Š ESTADÃSTICAS FINALES DEL SISTEMA:
=== ESTADÃSTICAS DEL SISTEMA ===
MÃ³dem inicializado: SÃ­
GPS habilitado: No
Calidad de seÃ±al: 0
Fallos consecutivos: 0
Timeout adaptativo actual: 12000ms

âœ… Sistema preparado para deep sleep
ğŸŒ™ Entrando en modo deep sleep...
â° PrÃ³ximo despertar en 600 segundos
Setup ESP32 to sleep for every 600 seconds
Going to sleep now
